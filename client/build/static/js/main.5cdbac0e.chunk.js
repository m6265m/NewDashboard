(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/app_icon_without_bg.e42184cc.png"},141:function(e,t,a){},143:function(e,t,a){},236:function(e,t){e.exports="data:image/png;base64,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"},249:function(e,t,a){e.exports=a.p+"static/media/camera.c2063f5a.webp"},287:function(e,t,a){e.exports=a(401)},292:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){},350:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},354:function(e,t,a){},355:function(e,t,a){},356:function(e,t,a){},390:function(e,t,a){},391:function(e,t,a){},395:function(e,t,a){},396:function(e,t,a){},397:function(e,t,a){},401:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(21),l=a.n(r),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(292),a(293),a(294);var i=a(25),u=a.n(i),m=a(40),d=a(20),p=a(8),g=a(2),f=a(10),b=a.n(f),h=a(101),v=a.n(h),E=a(177),y=a.n(E),x=a(446),j=a(493),O=a(444),w=a(33),S=a(410),k=a(19),N=Object(O.a)({myCard:{borderRadius:20,background:"#f3f3f3",boxShadow:"6px 6px 10px 0px rgba(112,112,112,0.16), -6px -6px 10px 0px #FFFFFF",padding:"50px 10px",maxWidth:"300px",width:"100%"},myButton:{background:"linear-gradient(45deg, #008080 30%, #20B2AA 90%)",border:0,color:"white",width:100,justifyContent:"center",textDecoration:"none",boxShadow:"0px 8px 10px -5px rgba(124,133,133,1)"},backdrop:{zIndex:1,color:"#fff"}});var R=function(){var e=N(),t=Object(n.useState)({}),a=Object(g.a)(t,2),r=(a[0],a[1]),l=Object(n.useState)(!1),s=Object(g.a)(l,2),c=s[0],i=s[1],f=Object(n.useState)(!1),h=Object(g.a)(f,2),E=h[0],O=h[1];Object(n.useEffect)((function(){r(k.get("userData"))}),[]);var R=Object(n.useState)({username:"",password:"",errorUser:!1,errorPassword:!1,helperTextUserName:"",helperTextPassword:"",helperTextMain:""}),C=Object(g.a)(R,2),T=C[0],D=C[1],A=function(e){D(Object(p.a)(Object(p.a)({},T),{},Object(d.a)({},e.target.name,e.target.value)))};return o.a.createElement("div",{className:"login"},o.a.createElement(x.a,{className:e.myCard},o.a.createElement("div",null,o.a.createElement("img",{alt:"",src:v.a,width:"90",height:"100px"}),o.a.createElement("p",{className:"card-heading-main"},"COMPLAINT MANAGEMENT SYSTEM"),o.a.createElement("form",null,o.a.createElement(j.a,{error:T.errorUser,helperText:T.helperTextUserName,autoFocus:!0,id:"username_id",variant:"outlined",type:"username",label:"Username",name:"username",className:"login-input",placeholder:"john123",onChange:A}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(j.a,{error:T.errorPassword,helperText:T.helperTextPassword,id:"password_id",variant:"outlined",label:"Password",name:"password",className:"login-input",type:"password",onChange:A}),o.a.createElement("p",null,T.helperTextMain),o.a.createElement(y.a,{type:"submit",className:e.myButton,onClick:function(e){e.preventDefault(),O(!0),i(!0);var t={username:T.username,password:T.password};""===T.username||T.username.match(/^[A-Za-z0-9]+$/)?""===T.username?(D(Object(p.a)(Object(p.a)({},T),{},{helperTextUserName:"Please enter your username.",errorUser:!0})),i(!1),O(!1)):""===T.password?(D(Object(p.a)(Object(p.a)({},T),{},{helperTextPassword:"Please enter your password.",errorPassword:!0})),i(!1),O(!1)):""===T.username&&""===T.password?(D(Object(p.a)(Object(p.a)({},T),{},{helperTextUserName:"Please fill the fields.",errorUser:!0,errorPassword:!0})),i(!1),O(!1)):b.a.post("https://m2r31169.herokuapp.com/api/signin",t).then(function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status&&(i(!1),O(!1),k.set("userData",t.data),console.log("logged in!!"),window.location="/dashboard/home");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.response&&(503!==e.response.status&&500!==e.response.status||console.log(e.response.status)),console.error(e),console.log("login error"),D(Object(p.a)(Object(p.a)({},T),{},{helperTextMain:"Incorrect password or username",errorUser:!0,errorPassword:!0})),i(!1),O(!1)})):(D(Object(p.a)(Object(p.a)({},T),{},{helperTextUserName:"Please use alphanumerics.",errorUser:!0})),i(!1),O(!1))}},"Login"),o.a.createElement(S.a,{className:e.backdrop,open:E},o.a.createElement(w.ImpulseSpinner,{size:90,color:"#008081",loading:c}))))))},C=a(232),T=a.n(C),D=a(153),A=a.n(D),I=a(100),M=a.n(I),P=a(178),W=a.n(P),z=a(233),F=a.n(z),L=a(235),U=a.n(L),V=a(408),Y=a(453),B=(a(350),a(42)),H=function(e){e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){var t=e[0],a=e[1],n=e[2];e=t+t+a+a+n+n}var o=(e=e.toUpperCase(e))[0]+e[1],r=e[2]+e[3],l=e[4]+e[5];return parseInt(o,16)+", "+parseInt(r,16)+", "+parseInt(l,16)},q=["#9c27b0","#ab47bc","#8e24aa","#af2cc5"],X=["#ff9800","#ffa726","#fb8c00","#ffa21a"],G=["#f44336","#ef5350","#e53935","#f55a4e"],J=["#4caf50","#66bb6a","#43a047","#5cb860"],Z=["#00acc1","#26c6da","#00acc1","#00d3ee"],K=["#e91e63","#ec407a","#d81b60","#eb3573"],Q=["#999","#777","#3C4858","#AAAAAA","#D2D2D2","#DDD","#b4b4b4","#555555","#333","#a9afbb","#eee","#e7e7e7"],_=(H("#000"),H("#000"),H("#000"),{boxShadow:"0 4px 20px 0 rgba("+H("#000")+",.14), 0 7px 10px -5px rgba("+H(q[0])+",.4)"}),$={boxShadow:"0 4px 20px 0 rgba("+H("#000")+",.14), 0 7px 10px -5px rgba("+H(Z[0])+",.4)"},ee={boxShadow:"0 4px 20px 0 rgba("+H("#000")+",.14), 0 7px 10px -5px rgba("+H(J[0])+",.4)"},te={boxShadow:"0 4px 20px 0 rgba("+H("#000")+",.14), 0 7px 10px -5px rgba("+H(X[0])+",.4)"},ae={boxShadow:"0 4px 20px 0 rgba("+H("#000")+",.14), 0 7px 10px -5px rgba("+H(G[0])+",.4)"},ne={boxShadow:"0 4px 20px 0 rgba("+H("#000")+",.14), 0 7px 10px -5px rgba("+H(K[0])+",.4)"},oe=(Object(p.a)({background:"linear-gradient(60deg, "+X[1]+", "+X[2]+")"},te),Object(p.a)({background:"linear-gradient(60deg, "+J[1]+", "+J[2]+")"},ee),Object(p.a)({background:"linear-gradient(60deg, "+G[1]+", "+G[2]+")"},ae),Object(p.a)({background:"linear-gradient(60deg, "+Z[1]+", "+Z[2]+")"},$),Object(p.a)({background:"linear-gradient(60deg, "+q[1]+", "+q[2]+")"},_),Object(p.a)({background:"linear-gradient(60deg, "+K[1]+", "+K[2]+")"},ne),Object(p.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid "+Q[10],height:"auto"},{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"}),H("#000"),H("#000"),H("#000"),H("#000"),H("#000"),{color:Q[2],textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:Q[1],fontWeight:"400",lineHeight:"1"}}),re=(Object(p.a)(Object(p.a)({},oe),{},{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(p.a)(Object(p.a)({},oe),{},{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),a(179)),le=a.n(re),se=a(496),ce=a(454),ie=a(412),ue=a(234),me=a.n(ue),de=a(19),pe={menuList:{marginLeft:"10px",marginTop:"20px"},menuNames:{paddingRight:"20px",paddingLeft:"20px"},focus:{borderRadius:"50px",color:"#FFF",padding:"0 24px 0 8px"},focusNew:{backgroundColor:"#f3f3f3",borderRadius:"50px",color:"#008081",padding:"0 24px 0 8px"},menuIcon:{color:"#FFF"},paper:{background:"linear-gradient(109.6deg,rgba(5, 85, 84, 1) 11.2%,rgba(64, 224, 208, 1) 91.1%)"},drawerPaper:{background:"none",borderRight:"none",paddingTop:"110px",width:"maxContent"}},ge=Object(O.a)(pe);var fe=function(e){var t=Object(n.useState)(window.innerWidth>900),a=Object(g.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(!1),c=Object(g.a)(s,2),i=c[0],u=c[1],m=Object(n.useState)(de.get("userData")),d=Object(g.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)(""),E=Object(g.a)(h,2),y=E[0],x=E[1],j=function(){l(window.innerWidth>900)};Object(n.useEffect)((function(){return window.addEventListener("resize",j),function(){return window.removeEventListener("resize",j)}})),Object(n.useEffect)((function(){x(window.location.pathname.split("/").pop())}),[]);var O={"Content-Type":"application/json","x-access-token":p.accessToken},w=ge(),S=o.a.createElement(V.a,{className:w.menuList},o.a.createElement(B.b,{to:"/dashboard/home"},o.a.createElement(Y.a,{key:"home",className:"home"===y?w.focusNew:w.focus,onClick:function(){return x("home")}},o.a.createElement(T.a,{className:w.menuNames,fontSize:"small"}),o.a.createElement("p",null,"Home"))),o.a.createElement(B.b,{to:"/dashboard/complaints"},o.a.createElement(Y.a,{key:"complaint",className:"complaints"===y?w.focusNew:w.focus,onClick:function(){return x("complaints")}},o.a.createElement(A.a,{className:w.menuNames,fontSize:"small"}),o.a.createElement("p",null,"Complaints"))),"ADMIN"===e.role&&o.a.createElement(B.b,{to:"/dashboard/supervisors"},o.a.createElement(Y.a,{className:"supervisors"===y?w.focusNew:w.focus,onClick:function(){return x("supervisors")}},o.a.createElement(M.a,{className:w.menuNames,fontSize:"small"}),o.a.createElement("p",null,"Supervisors"))),o.a.createElement(B.b,{to:"/dashboard/reports"},o.a.createElement(Y.a,{className:"reports"===y?w.focusNew:w.focus,onClick:function(){return x("reports")}},o.a.createElement(F.a,{className:w.menuNames,fontSize:"small"}),o.a.createElement("p",null,"Reports"))),o.a.createElement(B.b,{to:"/dashboard/profile"},o.a.createElement(Y.a,{className:"profile"===y?w.focusNew:w.focus,onClick:function(){return x("profile")}},o.a.createElement(W.a,{className:w.menuNames,fontSize:"small"}),o.a.createElement("p",null,"Profile"))),"ADMIN"===e.role&&o.a.createElement(B.b,{to:"/dashboard/manage"},o.a.createElement(Y.a,{className:"manage"===y?w.focusNew:w.focus,onClick:function(){return x("manage")}},o.a.createElement(me.a,{className:w.menuNames,fontSize:"small"}),o.a.createElement("p",null,"Manage Complaints"))),o.a.createElement(Y.a,{className:w.focus,onClick:function(e){e.preventDefault(),b.a.post("https://m2r31169.herokuapp.com/api/logout",{},{headers:O}).then((function(e){de.set("logoutEvent","logout"+Math.random()),console.log(e.data),de.remove("userData"),de.clearAll(),f({}),window.location="/"})).catch((function(e){console.error(e),console.log("not working man")}))}},o.a.createElement(U.a,{className:w.menuNames,fontSize:"small"}),o.a.createElement("p",null,"Logout")));return o.a.createElement("div",{className:"menu"},r?o.a.createElement("div",{className:"menu-div"},o.a.createElement("img",{alt:"",className:"logo",src:v.a}),o.a.createElement("p",{className:"menu-heading-main"},"Sindh Solid Waste Management")):o.a.createElement(ie.a,{color:"inherit",onClick:function(){u(!0)}},o.a.createElement(le.a,{className:w.menuIcon})),o.a.createElement("div",null,r?o.a.createElement(se.a,{classes:{paper:w.drawerPaper},variant:"permanent",open:!0},S):o.a.createElement(se.a,{open:i,classes:{paper:w.paper},onClose:function(){u(!i)}},o.a.createElement("div",{className:"menu-div"},o.a.createElement("img",{alt:"",className:"logo",src:v.a}),o.a.createElement("p",{className:"menu-heading-main"},"Sindh Solid Waste Management")),o.a.createElement(ce.a,null),S)))},be=a(477),he=a(256),ve=a.n(he),Ee=a(236),ye=a.n(Ee),xe=a(54),je=a.n(xe),Oe=a(140),we=a(19),Se=Object(O.a)({stats:{paddingTop:"5px",color:"#999",display:"inline-flex",fontSize:"12px",lineHeight:"22px"},line:{marginTop:"10px",borderTop:"1px solid",borderTopColor:"#99999957"}});var ke=function(e){var t=Se(),a=Object(n.useState)(we.get("userData")),r=Object(g.a)(a,2),l=r[0],s=r[1],c=Object(n.useState)(0),i=Object(g.a)(c,2),u=i[0],m=i[1],d={"Content-Type":"application/json","x-access-token":l.accessToken},p=Object(n.useState)({seriesYearly:[],seriesMonthly:[],seriesDaily:[]}),f=Object(g.a)(p,2),h=f[0],v=f[1],E=Object(n.useState)({highestValueDaily:0,highestValueMonthly:0,highestValueYearly:0}),y=Object(g.a)(E,2),x=y[0],j=y[1];Object(n.useEffect)((function(){null!==l.accessToken&&b.a.get("https://m2r31169.herokuapp.com/api/getComplaintsYearlyMonthlyDaily",{headers:d}).then((function(e){k({totalCountResultDaily:e.data.daily.map((function(e){return e.totalCount})),totalCountResultMonthly:e.data.monthly.map((function(e){return e.totalCount})),totalCountResultYearly:e.data.yearly.map((function(e){return e.totalCount})),resolvedResultDaily:e.data.daily.map((function(e){return e.Resolved})),resolvedResultMonthly:e.data.monthly.map((function(e){return e.Resolved})),resolvedResultYearly:e.data.yearly.map((function(e){return e.Resolved})),unresolvedResultDaily:e.data.daily.map((function(e){return e.Unresolved})),unresolvedResultMonthly:e.data.monthly.map((function(e){return e.Unresolved})),unresolvedResultYearly:e.data.yearly.map((function(e){return e.Unresolved})),assignedResultDaily:e.data.daily.map((function(e){return e.Assigned})),assignedResultMonthly:e.data.monthly.map((function(e){return e.Assigned})),assignedResultYearly:e.data.yearly.map((function(e){return e.Assigned})),rejectedResultDaily:e.data.daily.map((function(e){return e.Rejected})),rejectedResultMonthly:e.data.monthly.map((function(e){return e.Rejected})),rejectedResultYearly:e.data.yearly.map((function(e){return e.Rejected})),labelForYearly:e.data.yearly.map((function(e){return e.year}))})})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?(we.remove("userData"),we.clearAll(),s({}),window.location="/"):503!==e.response.status&&500!==e.response.status||m(1)),console.error(e)}))}),[]);var O=Object(n.useState)({labelForYearly:[],totalCountResultDaily:[],totalCountResultMonthly:[],totalCountResultYearly:[],resolvedResultDaily:[],resolvedResultMonthly:[],resolvedResultYearly:[],unresolvedResultDaily:[],unresolvedResultMonthly:[],unresolvedResultYearly:[],assignedResultDaily:[],assignedResultMonthly:[],assignedResultYearly:[],rejectedResultDaily:[],rejectedResultMonthly:[],rejectedResultYearly:[]}),w=Object(g.a)(O,2),S=w[0],k=w[1];Object(n.useEffect)((function(){"Total Complaints"===e.value?(v({seriesDaily:S.totalCountResultDaily,seriesMonthly:S.totalCountResultMonthly,seriesYearly:S.totalCountResultYearly}),j({highestValueDaily:Math.max.apply(null,S.totalCountResultDaily)+10,highestValueMonthly:Math.max.apply(null,S.totalCountResultMonthly)+10,highestValueYearly:Math.max.apply(null,S.totalCountResultYearly)+10})):"Resolved"===e.value?(v({seriesDaily:S.resolvedResultDaily,seriesMonthly:S.resolvedResultMonthly,seriesYearly:S.resolvedResultYearly}),j({highestValueDaily:Math.max.apply(null,S.resolvedResultDaily)+10,highestValueMonthly:Math.max.apply(null,S.resolvedResultMonthly)+10,highestValueYearly:Math.max.apply(null,S.resolvedResultYearly)+10})):"Unresolved"===e.value?(v({seriesDaily:S.unresolvedResultDaily,seriesMonthly:S.unresolvedResultMonthly,seriesYearly:S.unresolvedResultYearly}),j({highestValueDaily:Math.max.apply(null,S.unresolvedResultDaily)+10,highestValueMonthly:Math.max.apply(null,S.unresolvedResultMonthly)+10,highestValueYearly:Math.max.apply(null,S.unresolvedResultYearly)+10})):"Assigned"===e.value?(v({seriesDaily:S.assignedResultDaily,seriesMonthly:S.assignedResultMonthly,seriesYearly:S.assignedResultYearly}),j({highestValueDaily:Math.max.apply(null,S.assignedResultDaily)+10,highestValueMonthly:Math.max.apply(null,S.assignedResultMonthly)+10,highestValueYearly:Math.max.apply(null,S.assignedResultYearly)+10})):"Rejected"===e.value&&(v({seriesDaily:S.rejectedResultDaily,seriesMonthly:S.rejectedResultMonthly,seriesYearly:S.rejectedResultYearly}),j({highestValueDaily:Math.max.apply(null,S.rejectedResultDaily)+10,highestValueMonthly:Math.max.apply(null,S.rejectedResultMonthly)+10,highestValueYearly:Math.max.apply(null,S.rejectedResultYearly)+10}))}),[e]);var N=0,R=0,C=0,T={data:{labels:["M","T","W","T","F","S","S"],series:[h.seriesDaily]},options:{lineSmooth:Oe.Interpolation.cardinal({tension:0}),low:0,high:x.highestValueDaily,chartPadding:{top:0,right:0,bottom:0,left:0}},animation:{draw:function(e){N<=h.seriesDaily.length&&("line"===e.type?e.element.animate({d:{begin:600,dur:700,from:e.path.clone().scale(1,0).translate(0,e.chartRect.height()).stringify(),to:e.path.clone().stringify(),easing:Oe.Svg.Easing.easeOutQuint}}):"point"===e.type&&e.element.animate({opacity:{begin:80*(e.index+1),dur:500,from:0,to:1,easing:"ease"}}),N++)}}},D={data:{labels:["J","F","M","A","M","J","J","A","S","O","N","D"],series:[h.seriesMonthly]},options:{axisX:{showGrid:!0},low:0,high:x.highestValueMonthly,chartPadding:{top:0,right:0,bottom:0,left:0}},responsiveOptions:[["screen and (max-width: 640px)",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function(e){return e[0]}}}]],animation:{draw:function(e){C<=h.seriesMonthly.length&&("bar"===e.type&&e.element.animate({opacity:{begin:80*(e.index+1),dur:500,from:0,to:1,easing:"ease"}}),C++)}}},A={data:{labels:S.labelForYearly,series:[h.seriesYearly]},options:{lineSmooth:Oe.Interpolation.cardinal({tension:10}),low:0,high:x.highestValueYearly,chartPadding:{top:0,right:0,bottom:0,left:0}},animation:{draw:function(e){R<=h.seriesYearly.length&&("line"===e.type?e.element.animate({d:{begin:600,dur:700,from:e.path.clone().scale(1,0).translate(0,e.chartRect.height()).stringify(),to:e.path.clone().stringify(),easing:Oe.Svg.Easing.easeOutQuint}}):"point"===e.type&&e.element.animate({opacity:{begin:80*(e.index+1),dur:500,from:0,to:1,easing:"ease"}}),R++)}}};return o.a.createElement("div",{className:"graphs"},o.a.createElement("div",{className:"daily-graph"},0===u?o.a.createElement(je.a,{className:"ct-chart-background-daily-complaints",data:T.data,type:"Line",options:T.options,listener:T.animation}):o.a.createElement("div",{className:"no-resolve-time-heading"},o.a.createElement("p",{className:"resolve-text"},"Not available")),o.a.createElement("div",{className:t.line},o.a.createElement("p",null,"Daily Complaints"))),o.a.createElement("div",{className:"monthly-graph "},0===u?o.a.createElement(je.a,{className:"ct-chart-background-monthly-complaints ct-stroke-color1",data:D.data,type:"Bar",options:D.options,responsiveOptions:D.responsiveOptions,listener:D.animation}):o.a.createElement("div",{className:"no-resolve-time-heading"},o.a.createElement("p",{className:"resolve-text"},"Not available")),o.a.createElement("div",{className:t.line},o.a.createElement("p",null,"Monthly Complaints"))),o.a.createElement("div",{className:"yearly-graph"},0===u?o.a.createElement(je.a,{className:"ct-chart-background-resolved-complaints",data:A.data,type:"Line",options:A.options,listener:A.animation}):o.a.createElement("div",{className:"no-resolve-time-heading"},o.a.createElement("p",{className:"resolve-text"},"Not available")),o.a.createElement("div",{className:t.line},o.a.createElement("p",null,"Yearly Complaints"))))},Ne=(a(352),a(497)),Re=a(140),Ce=a(19);var Te=function(){var e=Object(n.useState)(Ce.get("userData")),t=Object(g.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(0),s=Object(g.a)(l,2),c=s[0],i=s[1],u={"Content-Type":"application/json","x-access-token":a.accessToken},m=Object(n.useState)({LabelsState:[],SeriesResolvedState:[],SeriesUnresolvedState:[],SeriesAssignedState:[],HighestCountState:[]}),d=Object(g.a)(m,2),p=d[0],f=d[1],h=[],v=[],E=[],y=[],x=[];Object(n.useEffect)((function(){null!==a.accessToken&&b.a.get("https://m2r31169.herokuapp.com/api/getTownWiseComplaints",{headers:u}).then((function(e){for(var t in e.data)h[t]=e.data[t].Town,v[t]=e.data[t].Resolved,E[t]=e.data[t].Unresolved,y[t]=e.data[t].Assigned,x[t]=e.data[t].highestCount;f({LabelsState:h,SeriesResolvedState:v,SeriesAssignedState:y,SeriesUnresolvedState:E,HighestCountState:x})})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?(Ce.remove("userData"),Ce.clearAll(),r({}),window.location="/"):503!==e.response.status&&500!==e.response.status||i(1)),console.error(e)}))}),[]);var j=0,O={data:{labels:p.LabelsState,series:[p.SeriesResolvedState,p.SeriesAssignedState,p.SeriesUnresolvedState]},options:{axisX:{showGrid:!0},stackBars:!0,seriesBarDistance:9,low:0,high:Math.max.apply(null,p.HighestCountState)+100,height:400,chartPadding:{top:0,right:0,bottom:0,left:0}},responsiveOptions:[["screen and (min-width: 350px)",{stackBars:!0,reverseData:!0,horizontalBars:!0,seriesBarDistance:9,axisX:{labelInterpolationFnc:Re.noop},axisY:{offset:60}}],["screen and (min-width: 800px)",{stackBars:!1}],["screen and (min-width: 1000px)",{reverseData:!1,horizontalBars:!1}]],animation:{draw:function(e){j<=p.LabelsState.length&&("bar"===e.type&&e.element.animate({opacity:{begin:80*(e.index+1),dur:500,from:0,to:1,easing:"ease"}}),j++)}}};return o.a.createElement("div",{className:"zone-main"},0===c?o.a.createElement(je.a,{className:"ct-chart-background-demo-charts ct-stroke-color2",data:O.data,type:"Bar",options:O.options,responsiveOptions:O.responsiveOptions,listener:O.animation}):o.a.createElement("div",{className:"no-resolve-time-heading"},o.a.createElement("p",{className:"resolve-text"},"Not available")),o.a.createElement("div",{className:"zone-heading"},o.a.createElement("p",{className:"zone-text"},"Town Wise Complaints")),o.a.createElement(Ne.a,{textAlign:"left",color:"#02FCFA",fontWeight:"bold",component:"span",fontSize:"3rem"},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008081",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","Resolved"),o.a.createElement(Ne.a,{textAlign:"left",color:" #008081",fontWeight:"bold",component:"span",fontSize:"3rem",marginLeft:1},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","Assigned"),o.a.createElement(Ne.a,{textAlign:"left",color:"#042338",fontWeight:"bold",component:"span",fontSize:"3rem",marginLeft:1},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","Unresolved"))},De=(a(353),a(19));var Ae=function(e){var t=Object(n.useState)(De.get("userData")),a=Object(g.a)(t,2),r=a[0],l=a[1],s={"Content-Type":"application/json","x-access-token":r.accessToken},c=Object(n.useState)(0),i=Object(g.a)(c,2),u=i[0],m=i[1],d=Object(n.useState)({postive:80,negative:20,TotalCount:0}),p=Object(g.a)(d,2),f=p[0],h=p[1];Object(n.useEffect)((function(){b.a.get("https://m2r31169.herokuapp.com/api/getFeedbacks",{headers:s}).then((function(e){null!==e.data.Feedback[0].postive&&null!==e.data.Feedback[0].negative?h(e.data.Feedback[0]):m(1)})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?(De.remove("userData"),De.clearAll(),l({}),window.location="/"):503!==e.response.status&&500!==e.response.status||m(1)),console.error(e)}))}),[]);var v={data:{series:[f.negative,f.postive]},options:{labelInterpolationFnc:function(e){return 0===e?"":e+"%"}}};return o.a.createElement("div",{className:"ADMIN"===e.role?"feedback-main":"feedback-main-hidden"},0===u?o.a.createElement(je.a,{data:v.data,type:"Pie",options:v.options,style:{padding:"10px"}}):o.a.createElement("div",{className:"no-resolve-time-heading"},o.a.createElement("p",{className:"resolve-text"},"Not available")),o.a.createElement("div",{className:"feedback-heading"},o.a.createElement("p",{className:"feedback-text"},"Feedback Summary"),o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.a.createElement("div",null,o.a.createElement(Ne.a,{textAlign:"left",color:"#43a047",component:"span",fontWeight:"bold",fontSize:"3rem"},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","Positive"),o.a.createElement(Ne.a,{textAlign:"left",color:"#fb8c00",fontWeight:"bold",component:"span",fontSize:"3rem",marginLeft:1},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","Negative")),o.a.createElement("div",{style:{marginLeft:"auto",marginRight:2,fontWeight:"bold",fontSize:"0.75rem",color:"#008080"}},o.a.createElement("p",{style:{padding:"none",marginTop:14}}," Total Feedbacks : ",f.TotalCount)))))},Ie=(a(354),a(19));var Me=function(){var e=Object(n.useState)({_0_2days:70,_3_4days:20,_5_6days:5,moreThan6days:5}),t=Object(g.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(0),s=Object(g.a)(l,2),c=s[0],i=s[1],u=Object(n.useState)(Ie.get("userData")),m=Object(g.a)(u,2),d=m[0],p=m[1],f={"Content-Type":"application/json","x-access-token":d.accessToken};Object(n.useEffect)((function(){b.a.get("https://m2r31169.herokuapp.com/api/getresolveTime",{headers:f}).then((function(e){null!==e.data._0_2days&&null!==e.data._3_4days&&null!==e.data._5_6days&&null!==e.data.moreThan6days?r(e.data):(i(1),r({_0_2days:0,_3_4days:0,_5_6days:0,moreThan6days:0}))})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?(Ie.remove("userData"),Ie.clearAll(),p({}),window.location="/"):503!==e.response.status&&500!==e.response.status||i(1)),console.error(e)}))}),[]);var h={data:{series:[a._5_6days,a._0_2days,a._3_4days,a.moreThan6days]},options:{labelInterpolationFnc:function(e){return 0===e?"":e+"%"}}};return o.a.createElement("div",{className:"resolve-main"},0===c?o.a.createElement(je.a,{data:h.data,type:"Pie",options:h.options,style:{padding:"10px"}}):o.a.createElement("div",{className:"no-resolve-time-heading"},o.a.createElement("p",{className:"resolve-text"},"Not available")),o.a.createElement("div",{className:"resolve-heading"},o.a.createElement("p",{className:"resolve-text"},"Resolve Time Analysis"),o.a.createElement(Ne.a,{textAlign:"left",color:"#43a047",fontWeight:"bold",component:"span",fontSize:"3rem"},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008081",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","2 days"),o.a.createElement(Ne.a,{textAlign:"left",color:" #f4c63d",fontWeight:"bold",component:"span",fontSize:"3rem",marginLeft:1},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","4 days"),o.a.createElement(Ne.a,{textAlign:"left",color:"#fb8c00",fontWeight:"bold",component:"span",fontSize:"3rem",marginLeft:1},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","6 days"),o.a.createElement(Ne.a,{textAlign:"left",color:"#FF0000",fontWeight:"bold",component:"span",fontSize:"3rem",marginLeft:1},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","more than 6 days")))},Pe=a(237),We=a.n(Pe),ze=a(103),Fe=a.n(ze),Le=a(104),Ue=a.n(Le),Ve=a(73),Ye=a.n(Ve),Be=a(105),He=a.n(Be),qe=a(89),Xe=a.n(qe),Ge=(a(355),a(356),a(19)),Je=Object(O.a)({stats:{borderTop:"1px solid #99999957",paddingTop:"5px",color:"#999",display:"flex",flexDirection:"row",justifyContent:"end",fontSize:"12px",lineHeight:"22px"},backdrop:{zIndex:1,color:"#fff",height:"100%"}});var Ze=o.a.memo((function(e){var t=Object(n.useState)(Ge.get("userData")),a=Object(g.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(!0),c=Object(g.a)(s,2),i=c[0],u=c[1],m={"Content-Type":"application/json","x-access-token":r.accessToken},d=Je(),p=Object(n.useState)("Total Complaints"),f=Object(g.a)(p,2),h=f[0],v=f[1],E=Object(n.useState)({Complaints:"00:00",Resolved:"00:00",Assigned:"00:00",Rejected:"00:00",Unresolved:"00:00",Supervisors:"00:00"}),y=Object(g.a)(E,2),x=y[0],j=y[1],O=Object(n.useState)({Active:0,Assigned:0,Rejected:0,Resolved:0,Supervisors:0,TotalComplaints:0,Unresolved:0,Pending:0}),k=Object(g.a)(O,2),N=k[0],R=k[1],C=function(){null!==r.accessToken&&b.a.get("https://m2r31169.herokuapp.com/api/getTotalSupervisorsAndComplaintsCountAndLastUpdatedTime",{headers:m}).then((function(e){R(e.data.Count),j(e.data.LastUpdated),u(!1)})).catch((function(t){t.response&&(401===t.response.status||403===t.response.status?(Ge.remove("userData"),Ge.clearAll(),l({}),window.location="/"):503!==t.response.status&&500!==t.response.status||(console.log(t.response.status),u(!1),e.handleError(t.response.status))),console.error(t)}))};return Object(n.useEffect)((function(){C()}),[]),o.a.createElement("div",{className:"home-grid"},o.a.createElement("div",{className:"counts"},o.a.createElement("div",{className:"total-complaints"},o.a.createElement(A.a,{style:{float:"left",marginTop:"-20px",background:"linear-gradient(60deg, #26c6da, #00acc1)",borderRadius:"5px",color:"white",width:"30px",height:"30px",padding:"10px",position:"absolute",boxShadow:"0 4px 20px 0 rgba(0, 0, 0,.14), 0 7px 10px -5px rgba(0, 172, 193,.4)"}}),o.a.createElement("p",{className:"count-title"},"Complaints"),o.a.createElement("p",{className:"count-value"},N.TotalComplaints),o.a.createElement("div",{className:d.stats},o.a.createElement(Xe.a,{fontSize:"small"})," Last updated"," ",x.Complaints)),o.a.createElement("div",{className:"total-resolved-complaints"},o.a.createElement(Fe.a,{style:{float:"left",marginTop:"-20px",background:"linear-gradient(60deg, #66bb6a, #43a047)",borderRadius:"5px",color:"white",width:"30px",height:"30px",padding:"10px",position:"absolute",boxShadow:"0 4px 20px 0 rgba(0, 0, 0,.14), 0 7px 10px -5px rgba(76, 175, 80,.4)"}}),o.a.createElement("p",{className:"count-title"},"Resolved"),o.a.createElement("p",{className:"count-value"},N.Resolved),o.a.createElement("div",{className:d.stats},o.a.createElement(Xe.a,{fontSize:"small"})," Last updated"," ",x.Resolved)),o.a.createElement("div",{className:"total-assigned-complaints"},o.a.createElement(Ue.a,{style:{float:"left",marginTop:"-20px",background:"linear-gradient(60deg, #ab47bc, #8e24aa)",borderRadius:"5px",color:"white",width:"30px",height:"30px",padding:"10px",position:"absolute",boxShadow:"0 4px 20px 0 rgba(0, 0, 0,.14), 0 7px 10px -5px rgba(156, 39, 176,.4)"}}),o.a.createElement("p",{className:"count-title"},"ADMIN"===r.Role?"Assigned":"Active"),o.a.createElement("p",{className:"count-value"},"ADMIN"===r.Role?N.Assigned:N.Active),o.a.createElement("div",{className:d.stats},o.a.createElement(Xe.a,{fontSize:"small"})," Last updated"," ",x.Assigned)),o.a.createElement("div",{className:"total-unresolved"},o.a.createElement(Ye.a,{style:{float:"left",marginTop:"-20px",background:"linear-gradient(60deg, #ef5350, #e53935)",borderRadius:"5px",color:"white",width:"30px",height:"30px",padding:"10px",position:"absolute",boxShadow:"0 4px 20px 0 rgba(0, 0, 0,.14), 0 7px 10px -5px rgba(244, 67, 54,.4)"}}),o.a.createElement("p",{className:"count-title"},"Unresolved"),o.a.createElement("p",{className:"count-value"},N.Unresolved),o.a.createElement("div",{className:d.stats},o.a.createElement(Xe.a,{fontSize:"small"})," Last updated"," ",x.Unresolved)),o.a.createElement("div",{className:"total-rejected-complaints "},o.a.createElement(He.a,{style:{float:"left",marginTop:"-20px",background:"linear-gradient(60deg, #ffa726, #fb8c00)",borderRadius:"5px",color:"white",width:"30px",height:"30px",padding:"10px",position:"absolute",boxShadow:"0 4px 20px 0 rgba(0, 0, 0,.14), 0 7px 10px -5px rgba(255, 152, 0,.4)"}}),o.a.createElement("p",{className:"count-title"},"Rejected "),o.a.createElement("p",{className:"count-value"},N.Rejected),o.a.createElement("div",{className:d.stats},o.a.createElement(Xe.a,{fontSize:"small"})," Last updated"," ",x.Rejected)),o.a.createElement("div",{className:"total-supervisors"},"ADMIN"===r.Role?o.a.createElement(M.a,{style:{float:"left",marginTop:"-20px",background:"linear-gradient(60deg,#FFEE75,#FFDF00)",borderRadius:"5px",color:"white",width:"30px",height:"30px",padding:"10px",position:"absolute",boxShadow:"rgba(0, 0, 0, 0.14) 0px 4px 20px 0px, rgba(234, 212, 56, 0.64) 0px 7px 10px -5px"}}):o.a.createElement(We.a,{style:{float:"left",marginTop:"-20px",background:"linear-gradient(60deg,#FFEE75,#FFDF00)",borderRadius:"5px",color:"white",width:"30px",height:"30px",padding:"10px",position:"absolute",boxShadow:"rgba(0, 0, 0, 0.14) 0px 4px 20px 0px, rgba(234, 212, 56, 0.64) 0px 7px 10px -5px"}}),o.a.createElement("p",{className:"count-title"},"ADMIN"===r.Role?"Supervisors":"Pending"),o.a.createElement("p",{className:"count-value"},"ADMIN"===r.Role?N.Supervisors:N.Pending),o.a.createElement("div",{className:d.stats},o.a.createElement(Xe.a,{fontSize:"small"})," Last updated"," ",x.Supervisors))),o.a.createElement("div",{className:"select-dropdown"},o.a.createElement("p",null,"Filter charts by : "),o.a.createElement("select",{defaultValue:"Total Complaints",onChange:function(e){e.preventDefault();var t=e.target.value;("Total Complaints"===t||"Resolved"===t||"Unresolved"===t||"Assigned"===t||"Rejected"===t)&&v(t)}},o.a.createElement("option",{value:"Total Complaints"},"Total Complaints"),o.a.createElement("option",{value:"Resolved"},"Resolved"),o.a.createElement("option",{value:"Unresolved"},"Unresolved"),o.a.createElement("option",{value:"Assigned"},"Assigned"),o.a.createElement("option",{value:"Rejected"},"Rejected"))),o.a.createElement(ke,{value:h}),"ADMIN"===r.Role&&o.a.createElement(Te,null),o.a.createElement("div",{className:"table-and-piechart"},"ADMIN"===r.Role&&o.a.createElement(Ae,{role:r.Role}),o.a.createElement(Me,null)),o.a.createElement(S.a,{className:d.backdrop,open:i},o.a.createElement(w.ImpulseSpinner,{size:90,color:"#008081"})))})),Ke=a(238),Qe=a(239),_e=a(259),$e=a(258),et=(a(141),a(106)),tt=a.n(et),at=a(23),nt=a.n(at),ot=a(63),rt=a(449),lt=a(490),st=a(495),ct=a(3),it=a(26),ut=a(447),mt=a(504),dt=Object(O.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,maxWidth:250},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2,color:"white",backgroundColor:"teal"},noLabel:{marginTop:e.spacing(3)}}}));function pt(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}var gt={PaperProps:{style:{maxHeight:224,width:250}}};function ft(e){var t=Object(it.a)(),a=e.name,r=e.value,l=e.filterValue,s=e.orignalData,c=e.label,i=dt(),u=Object(n.useState)(!1),m=Object(g.a)(u,2),d=(m[0],m[1],Object(n.useState)([])),p=Object(g.a)(d,2),f=p[0],b=p[1],h=Object(n.useState)(r),v=Object(g.a)(h,2),E=v[0],y=v[1];Object(n.useEffect)((function(){b(Object(ot.a)(new Set(s.map((function(e){return e[a]}))))),console.log("cats"+f)}),[s]);return o.a.createElement(rt.a,{className:i.formControl},o.a.createElement(st.a,{className:"label",id:"demo-mutiple-chip-label"},c),o.a.createElement(lt.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:E,onChange:function(t){console.log("target valyeeeeeeeeeeee"+t.target.value),y(t.target.value),l(e.name,t.target.value)},input:o.a.createElement(ut.a,{id:"select-multiple-chip"}),renderValue:function(e){return o.a.createElement("div",{className:i.chips},e.map((function(e){return o.a.createElement(mt.a,{key:e,label:e,className:i.chip})})))},MenuProps:gt},f.map((function(e){return null!=e&&o.a.createElement(Y.a,{key:e,value:e,style:pt(e,E,t)},e)}))))}var bt=a(59);function ht(e){return o.a.createElement(Ne.a,{m:1,component:"div",style:{display:e.display?e.display:"block"}},o.a.createElement(Ne.a,{fontWeight:"700",component:"div",fontSize:"0.9rem",color:"black"},e.title),o.a.createElement(Ne.a,{component:"div",fontSize:"0.8rem",color:"grey",m:1},e.name))}var vt=a(455),Et=a(164),yt=a(240),xt=a.n(yt),jt=a(241),Ot=a.n(jt),wt=a(12);function St(e){var t=e.buttonComp,a=e.name,r=e.display,l=Object(n.useState)("#008080"),s=Object(g.a)(l,2),c=s[0],i=s[1],u=Object(n.useState)(Object(wt.e)("#008080",.75)),m=Object(g.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){"Assigned"==a||"Active"==a?(i("rgb(142, 36, 170)"),p(Object(wt.e)("rgb(142, 36, 170)",.75))):"Unresolved"==a?(i("red"),p("#ff000052")):"Rejected"==a?(i("#FFB400"),p("rgba(251, 179, 26, 0.33)")):"Resolved"==a&&(i("#008081"),p("#daf4db"))}),[a]),o.a.createElement(Ne.a,{component:t,className:"status",style:{display:r||"flex",alignItems:"center",background:d,color:c,minWidth:"80px"}},"Resolved"==a&&o.a.createElement(xt.a,{style:{fontSize:"18px",marginRight:"5px"}}),("Assigned"==a||"Active"==a)&&o.a.createElement(Ot.a,{style:{fontSize:"18px",marginRight:"5px"}}),"Unresolved"==a&&o.a.createElement(Ye.a,{style:{fontSize:"18px",marginRight:"5px"}}),"Rejected"==a&&o.a.createElement(tt.a,{style:{fontSize:"18px",marginRight:"5px"}}),e.name)}function kt(e){var t=e.sel,a=e.role,n=o.a.useState("Your geolocation will be shown here"),r=Object(g.a)(n,2),l=r[0];r[1];return o.a.createElement(vt.a,{container:!0},o.a.createElement(vt.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{title:"Complaint Id",name:t.id}),o.a.createElement(ht,{title:"Description",name:t.description}),o.a.createElement(ht,{title:"Location",name:l}),o.a.createElement(ht,{title:"Date",name:nt()(t.date).format("DD-MM-YYYY hh:mm A")}),o.a.createElement(ht,{title:"Complaint Type",name:t.type})),o.a.createElement(vt.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{title:"Complaint Status",display:"SUPERVISOR"==a||"Resolved"==t.statusType||"Rejected"==t.statusType?"block":"none"}),o.a.createElement(St,{name:t.statusType,buttonComp:"div",display:"SUPERVISOR"==a||"Resolved"==t.statusType||"Rejected"==t.statusType?"flex":"none"}),o.a.createElement(Ne.a,{fontWeight:"700",component:"div",fontSize:"0.9rem",color:"black",m:1},"Complaint Image - Before"),o.a.createElement(Et.a,{className:"image"},o.a.createElement("img",{className:"complainImage",height:"250px",alt:"Error Loading Image",style:{width:"100%",height:"100%",objectFit:"cover"},src:t.image}))))}var Nt=a(44),Rt=a(467),Ct=a(457),Tt=a(461),Dt=a(460),At=a(456),It=a(458),Mt=a(459),Pt=a(505);function Wt(e){var t=e.id,r=e.status,l=a(19),s=Object(n.useState)(l.get("userData")),c=Object(g.a)(s,2),i=(c[0],c[1]),u=Object(n.useState)([]),m=Object(g.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(!1),h=Object(g.a)(f,2),v=h[0],E=h[1],y=Object(O.a)({table:{minWidth:250}}),x=function(){E(!1);var e=[];b.a.get("https://m2r31169.herokuapp.com/api/userByComplainId?ComplainId="+t).then((function(t){if(console.log("usersssss"+JSON.stringify(t.data.Users[0].Feedbacks)),console.log("usersssss"+t.data.Users[0].Feedbacks[0].Star),null!=t.data.Users[0].User){for(var a in t.data.Users)e.push(t.data.Users[a]);console.log("Status"+JSON.stringify(e)),p(e)}})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?(l.remove("userData"),l.clearAll(),i({}),window.location="/"):503!==e.response.status&&500!==e.response.status||(E(!0),console.log(e.response.status))),console.log("error"+e)}))};Object(n.useEffect)((function(){x()}),[]);var j=y();return o.a.createElement(At.a,{component:Et.a},v&&o.a.createElement(Ne.a,null,"Error fetching data "),d.length<1&&o.a.createElement(Ne.a,null,"There are no users of this complaint "),d.length>0&&o.a.createElement(Ct.a,{className:j.table,"aria-label":"simple table"},o.a.createElement(It.a,null,o.a.createElement(Mt.a,null,o.a.createElement(Dt.a,{align:"center"},"User Name"),o.a.createElement(Dt.a,{align:"center"},"Email Address"),o.a.createElement(Dt.a,{align:"center"},"Phone Number"),"Resolved"==r&&o.a.createElement(Dt.a,{align:"center"},"Feedback"))),o.a.createElement(Tt.a,null,d.map((function(e){return o.a.createElement(Mt.a,{key:e.User.name},o.a.createElement(Dt.a,{align:"center"},e.User.name),o.a.createElement(Dt.a,{align:"center"},e.User.phoneNumber),o.a.createElement(Dt.a,{align:"center"},e.User.email),"Resolved"==r&&o.a.createElement(Dt.a,{align:"center"},e.Feedbacks[0].Star?o.a.createElement(Ne.a,null,o.a.createElement(Pt.a,{name:"read-only",value:e.Feedbacks[0].Star.number,readOnly:!0}),o.a.createElement(Ne.a,null,e.Feedbacks[0].description?e.Feedbacks[0].description:e.Feedbacks[0].tag?e.Feedbacks[0].tag:"")):"no feedback"))})))))}var zt=a(83),Ft=a.n(zt),Lt=a(156),Ut=a.n(Lt),Vt=a(468),Yt=a(488),Bt=a(469),Ht=a(90),qt=a(464),Xt=a(465),Gt=Object(O.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:180}}}));function Jt(e){var t=e.name,r=e.changeValue,l=e.display,s=e.value,c=Gt(),i=a(19),u=Object(n.useState)(i.get("userData")),m=Object(g.a)(u,2),d=(m[0],m[1]),p=Object(n.useState)(!1),f=Object(g.a)(p,2),h=(f[0],f[1]),v=Object(n.useState)(!1),E=Object(g.a)(v,2),y=E[0],x=E[1],j=Object(n.useState)([]),O=Object(g.a)(j,2),w=O[0],S=O[1],k=Object(n.useState)(s),N=Object(g.a)(k,2),R=N[0],C=N[1],T=function(){i.remove("userData"),i.clearAll(),d({}),window.location="/"};Object(n.useEffect)((function(){C(s),function(){x(!1);var e=[];b.a.get("https://m2r31169.herokuapp.com/api/getRejectTags").then((function(t){for(var a in console.log(t.data),t.data.Reasons)e.push(t.data.Reasons[a]);console.log("Reject tags"+e.toString()),S(e)})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?T():503!==e.response.status&&500!==e.response.status||(x(!0),console.log(e.response.status))),h(e)}))}()}),[]);return o.a.createElement(rt.a,{variant:"outlined",className:c.formControl,style:{display:l}},o.a.createElement(st.a,{id:"demo-simple-select-outlined-label"},t),o.a.createElement(lt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:R,onChange:function(e){console.log("target valyeeeeeeeeeeee"+e.target.value),C(e.target.value),r(e.target.value)},label:t},w.map((function(e){return o.a.createElement(Y.a,{key:e,value:e},e)}))),o.a.createElement(Ne.a,{style:{display:y?"block":"none"}},"Error loading data"))}var Zt=Object(O.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function Kt(e){var t=e.name,r=e.value,l=e.changeValue,s=e.disable,c=e.token,i=e.display,u=e.otherStatus,m=e.role,d=Zt(),p=a(19),f=Object(n.useState)(p.get("userData")),h=Object(g.a)(f,2),v=(h[0],h[1]),E=Object(n.useState)(!1),y=Object(g.a)(E,2),x=(y[0],y[1]),j=Object(n.useState)([]),O=Object(g.a)(j,2),w=O[0],S=O[1],k=Object(n.useState)(r),N=Object(g.a)(k,2),R=N[0],C=N[1],T=Object(n.useState)(!1),D=Object(g.a)(T,2),A=D[0],I=D[1],M=function(){I(!1);var e=[];b.a.get("https://m2r31169.herokuapp.com/api/getStatus?Role="+m,{headers:{"x-access-token":c}}).then((function(t){for(var a in console.log(t.data),t.data)e.push(t.data[a]);console.log("Status"+e.toString()),S(e)})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?(p.remove("userData"),p.clearAll(),v({}),window.location="/"):503!==e.response.status&&500!==e.response.status||(I(!0),console.log(e.response.status))),x(e)}))};Object(n.useEffect)((function(){M()}),[]);return o.a.createElement(rt.a,{className:d.formControl,style:{display:i}},o.a.createElement(st.a,{id:"demo-simple-select-outlined-label"},t),o.a.createElement(lt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:R,onChange:function(e){console.log("target valyeeeeeeeeeeee"+e.target.value),C(e.target.value),l(e.target.value,w.find((function(t){return t.id===e.target.value})).statusType)},label:e.name,disabled:s},w.filter((function(e){return"Assigned"!=w.find((function(e){return e.id===r})).statusType&&"Active"!=w.find((function(e){return e.id===r})).statusType||"Unresolved"!=e.statusType})).filter((function(e){return"Assigned"==w.find((function(e){return e.id===r})).statusType&&"Resolved"==u?"Resolved"==e.statusType:"Resolved"==u||"ADMIN"!=m||"Resolved"!=e.statusType})).map((function(e){return o.a.createElement(Y.a,{key:e.id,value:e.id},o.a.createElement(St,{name:e.statusType,buttonComp:"span"}))}))),o.a.createElement(Ne.a,{style:{display:A?"block":"none"}},"Error loading data"))}var Qt=Object(O.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function _t(e){var t=e.name,r=e.value,l=e.changeValue,s=e.disable,c=e.token,i=e.display,u=Qt(),m=Object(n.useState)(!1),d=Object(g.a)(m,2),p=(d[0],d[1]),f=Object(n.useState)(!1),h=Object(g.a)(f,2),v=h[0],E=h[1],y=a(19),x=Object(n.useState)(y.get("userData")),j=Object(g.a)(x,2),O=(j[0],j[1]),w=Object(n.useState)([]),S=Object(g.a)(w,2),k=S[0],N=S[1],R=Object(n.useState)(""),C=Object(g.a)(R,2),T=C[0],D=C[1],A=function(){E(!1);var e=[];b.a.get("https://m2r31169.herokuapp.com/api/getSuperVisor_Town",{headers:{"x-access-token":c}}).then((function(t){for(var a in console.log("supervisor"+JSON.stringify(t.data.supervisors[0])),t.data.supervisors)console.log("supervisor"+t.data.supervisors[a]),e.push(t.data.supervisors[a]);N(e)})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?(y.remove("userData"),y.clearAll(),O({}),window.location="/"):503!==e.response.status&&500!==e.response.status||(E(!0),console.log(e.response.status))),p(e)}))};Object(n.useEffect)((function(){console.log("supervisor mera",r),D(r),A()}),[]);return o.a.createElement(rt.a,{className:u.formControl,style:{display:i}},o.a.createElement(st.a,{id:"demo-simple-select-outlined-label"},t),o.a.createElement(lt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:T,onChange:function(e){console.log("target valyeeeeeeeeeeee"+e.target.value),D(e.target.value),l(e.target.value)},label:t,disabled:s},k.map((function(e,t){return o.a.createElement(Y.a,{value:e.supervisorId},e.name," - ",e.town)}))),o.a.createElement(Ne.a,{style:{display:v?"block":"none"}},"Error loading data"))}var $t=a(462),ea=a(463),ta=a(107),aa=a.n(ta),na=Object(O.a)({root:{maxWidth:400,minWidth:260,margin:10,position:"relative"},media:{height:250},input:{display:"none"},overlay:{position:"absolute",top:"20px",left:"20px",color:"black",backgroundColor:"white"}});function oa(e){var t=e.uploadImage,a=na(),r=Object(n.useState)(null),l=Object(g.a)(r,2),s=l[0],c=l[1],i=Object(n.useState)(1),u=Object(g.a)(i,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){c(null)}),[]),o.a.createElement(x.a,{className:a.root},o.a.createElement($t.a,null,o.a.createElement(ea.a,{className:a.media,image:s}),o.a.createElement("input",{accept:"image/*",className:a.input,id:"icon-button-filenew",type:"file",onChange:function(e){t(e.target.files[0]),c(URL.createObjectURL(e.target.files[0])),d(0)}}),o.a.createElement("label",{htmlFor:"icon-button-filenew"},o.a.createElement("div",{className:"overlay",style:{opacity:m}},o.a.createElement(aa.a,{style:{top:"40%",left:"40%",position:"relative",fontSize:"50px",color:"teal"}})))))}var ra=a(466);function la(e){var t,r=e.sel,l=e.dialogClose,s=e.save,c=e.token,i=e.role,u=e.supervisors,m=a(19),f=Object(n.useState)(m.get("userData")),h=Object(g.a)(f,2),v=(h[0],h[1]),E=o.a.useState(""),y=Object(g.a)(E,2),x=y[0],O=y[1],k=o.a.useState(""),N=Object(g.a)(k,2),R=N[0],C=N[1],T=o.a.useState([]),D=Object(g.a)(T,2),A=D[0],I=D[1],M=o.a.useState(""),P=Object(g.a)(M,2),W=P[0],z=P[1],F=o.a.useState(""),L=Object(g.a)(F,2),U=L[0],V=L[1],Y=Object(n.useState)(!1),B=Object(g.a)(Y,2),H=B[0],q=B[1],X=Object(n.useState)(null),G=Object(g.a)(X,2),J=G[0],Z=G[1];Object(n.useEffect)((function(){Z(null),console.log(r,"mera")}),[]),Object(n.useEffect)((function(){C(r.statusId),O(r.statusType),I(r.supervisorId),console.log("sellll",x,r.supervisorId,A)}),[]);var K=function(e,t,a,n){q(!0);var o="";o="ADMIN"==i?"/api/updateComplainStatus":"/api/updateAssignedComplaintStatus",console.log("wwwww",o,t,a,A);var r="Rejected"==e?"reason":"Assigned"==e?"supervisor":"",u="Rejected"==e?W:"Assigned"==e?A:"",g={};"ADMIN"==i?g=Object(p.a)({StatusId:R,id:a},Object(d.a)({},r,u)):((g=new FormData).set("StatusId",R),g.set("id",a),""!=r&&g.set(r,u),null!=J&&"Resolved"==x&&g.append("resolvedComplaintImage",J));var f="ADMIN"==i?{"x-access-token":c}:{"x-access-token":c,"content-type":"multipart/form-data"};b.a.post("https://m2r31169.herokuapp.com"+o,g,{headers:f}).then((function(e){console.log("post hogayi"+e.data),console.log("wwwwww",JSON.stringify(g)),O(""),l(),q(!1),s()})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?(m.remove("userData"),m.clearAll(),v({}),window.location="/"):503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later"))),console.log("error agaya"+e),console.log("error agaya",e.response)}))};return o.a.createElement("div",null,o.a.createElement(vt.a,{container:!0,style:{height:"100%"}},o.a.createElement(S.a,{style:{zIndex:1,color:"#fff"},open:H},o.a.createElement(w.ImpulseSpinner,{size:90,color:"#008081",loading:H})),o.a.createElement(vt.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{title:"Complaint Status",display:"Resolved"==r.statusType||"Rejected"==r.statusType||"Active"==r.otherStatus?"block":"none"}),o.a.createElement(St,{name:r.statusType,buttonComp:"div",display:"Resolved"==r.statusType||"Rejected"==r.statusType||"Active"==r.otherStatus?"flex":"none"}),o.a.createElement(ht,{title:"Reason for Rejection",name:""==r.reason?"No reason specified":r.reason,display:"Rejected"==r.statusType?"block":"none"}),o.a.createElement(ht,{title:"Supervisor",name:r.supervisorId&&u.find((function(e){return e.supervisorId==r.supervisorId}))&&u.find((function(e){return e.supervisorId==r.supervisorId})).name,display:"ADMIN"!=i||!r.supervisorId||"Resolved"!=r.statusType&&"Rejected"!=r.statusType&&"Active"!=r.otherStatus?"none":"block"}),o.a.createElement(Kt,(t={role:i,display:"Resolved"==r.statusType||"Rejected"==r.statusType||"Active"==r.otherStatus?"none":"inline-flex",otherStatus:r.otherStatus,token:c,disable:"Resolved"==r.statusType||"Rejected"==r.statusType||"Active"==r.otherStatus},Object(d.a)(t,"role",i),Object(d.a)(t,"name","Status"),Object(d.a)(t,"value",r.statusId),Object(d.a)(t,"changeValue",(function(e,t){console.log("sellll",x),O(t),C(e),console.log("Valueeee"+e),console.log("sellll",x)})),t)),"ADMIN"==i&&o.a.createElement(_t,{key:r.StatusId,token:c,display:"Assigned"===x&&"Active"!=r.otherStatus?"inline-flex":"none",disable:!("Assigned"==x),name:"Supervisor",value:r.supervisorId?r.supervisorId:"",changeValue:function(e){I(e),console.log("sellll",x),console.log("Valueeee"+e)}}),"ADMIN"!=i&&"Active"===x&&o.a.createElement(j.a,null),o.a.createElement(Jt,{value:W,key:W,name:"Reason for rejecting",display:"Rejected"==x&&"Rejected"!=r.statusType?"inline-flex":"none",changeValue:function(e){z(e)}}),o.a.createElement(Ne.a,{fontWeight:"500",component:"div",fontSize:"1.2rem",color:"red",m:1},U),"ADMIN"==i&&null!=r.supervisorId?o.a.createElement(ht,{title:"Supervisor Status",name:r.otherStatus}):"SUPERVISOR"==i&&"Resolved"==r.statusType&&o.a.createElement(ht,{title:"Admin Status",name:"Resolved"==r.otherStatus?"Verified":"Waiting for verification"}),"Resolved"==r.otherStatus&&"Resolved"!=r.statusType&&o.a.createElement(Ne.a,{color:"red"},o.a.createElement(tt.a,{style:{fontSize:"20px"}}),"  Please verify this complaint")),null!=r.afterImage&&o.a.createElement(vt.a,{item:!0,xs:12,sm:6},o.a.createElement(Ne.a,{fontWeight:"700",component:"div",fontSize:"0.9rem",color:"black",m:1}," Complaint Image - After"),o.a.createElement(Et.a,{className:"image"},o.a.createElement("img",{className:"complainImage",height:"250px",alt:"Error Loading Image",style:{width:"100%",height:"100%",objectFit:"cover"},src:r.afterImage}))),"SUPERVISOR"==i&&"Resolved"==x&&"Resolved"!=r.statusType&&null==r.afterImage&&o.a.createElement(vt.a,{item:!0,xs:12,sm:6,style:{display:"Resolved"==x?"block":"none"}},o.a.createElement(Ne.a,{fontWeight:"700",component:"div",fontSize:"0.9rem",color:"black",m:1},"Upload Complaint Image"),o.a.createElement(oa,{uploadImage:function(e){Z(e)}}))),o.a.createElement(qt.a,null,!("Resolved"==r.statusType||"Rejected"==r.statusType||"Active"==r.otherStatus)&&o.a.createElement("div",null,o.a.createElement(Xt.a,{style:{float:"right",color:"white",backgroundColor:"teal",display:H?"none":"block"},onClick:function(){!function(e,t,a,n){console.log("wahan",t,e,A),"Supervisor"==i&&"Resolved"==e&&null==J?V("Choose an image"):"Assigned"==e&&null==A?V("Choose a supervisor"):"Rejected"==e&&""==W?V("Choose a reason please"):(V(""),r.statusId!=t||r.supervisorId!=n?K(e,t,a,n):l()),console.log("yahan")}(x,R,r.id,A)}},"Save"),o.a.createElement(ra.a,{style:{display:H?"block":"none",color:"teal"}}))))}function sa(e){var t=e.children,a=e.value,n=e.index,r=Object(bt.a)(e,["children","value","index"]);return o.a.createElement(Ht.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},r),a===n&&o.a.createElement(Ne.a,{p:3},t))}function ca(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var ia=Object(O.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:500},toolbar:{paddingTop:e.spacing(1),paddingBottom:e.spacing(2)},dialogPaper:{minHeight:"60vh !important",maxHeight:"80vh !important"}}}));function ua(e){var t=e.sel,a=e.dialogClose,r=e.save,l=e.open,s=e.token,c=e.role,i=e.supervisors,u=ia(),m=Object(it.a)(),d=o.a.useState(0),p=Object(g.a)(d,2),f=p[0],b=p[1];return Object(n.useEffect)((function(){console.log("lalalalal",i,t.supervisorId)}),[]),o.a.createElement(Rt.a,{classes:{paper:u.dialogPaper},fullWidth:!0,open:l,onClose:a,maxWidth:"sm","aria-labelledby":"form-dialog-title"},o.a.createElement(Nt.Scrollbars,{style:{minWidth:100,minHeight:"80vh"}},o.a.createElement(Vt.a,{position:"static",color:"default"}," ",o.a.createElement(Yt.a,{value:f,onChange:function(e,t){b(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example"},o.a.createElement(Bt.a,Object.assign({label:"Complaint Details"},ca(0))),o.a.createElement(Bt.a,Object.assign({label:"Progress"},ca(1))),o.a.createElement(Bt.a,Object.assign({label:"Resolved"==t.statusType?"Users & Feedbacks":"Users"},ca(2))),o.a.createElement(ie.a,{style:{top:0},edge:"start",color:"inherit",onClick:a,"aria-label":"close"},o.a.createElement(Ft.a,{style:{color:"teal"}})))),o.a.createElement(Ut.a,{axis:"rtl"===m.direction?"x-reverse":"x",index:f,onChangeIndex:function(e){b(e)}},o.a.createElement(sa,{value:f,index:0,dir:m.direction},o.a.createElement(kt,{sel:t,role:c})),o.a.createElement(sa,{value:f,index:1,dir:m.direction},o.a.createElement(la,{sel:t,role:c,token:s,dialogClose:a,save:r,supervisors:i})),o.a.createElement(sa,{value:f,index:2,dir:m.direction},o.a.createElement(Wt,{id:t.id,status:t.statusType})))))}var ma=a(471),da=a(5),pa=a(491),ga=a(470);function fa(e){var t=e.data,a=e.selected,n=e.handleClick,r=Object(da.a)({root:{color:"teal","&$checked":{color:"teal"}},checked:{}})((function(e){return o.a.createElement(pa.a,Object.assign({color:"default"},e))})),l=Object(O.a)({table:{minWidth:250}})();return o.a.createElement(At.a,{component:Et.a},t.length<1&&o.a.createElement(Ne.a,null,t.length),t.length>0&&o.a.createElement(Ct.a,{className:l.table,"aria-label":"simple table"},o.a.createElement(It.a,null,o.a.createElement(Mt.a,null,o.a.createElement(Dt.a,{align:"center"},"Supervisor"),o.a.createElement(Dt.a,{align:"center"},"Town"),o.a.createElement(Dt.a,{align:"center"},"Number of Complaints"),o.a.createElement(Dt.a,{align:"center"},"Assign complaints"))),o.a.createElement(Tt.a,null,t.map((function(e){return null!=e&&o.a.createElement(Mt.a,{key:JSON.stringify(e.supervisorName)},o.a.createElement(Dt.a,{align:"center"},e.supervisorName.name),o.a.createElement(Dt.a,{align:"center"},e.supervisorName.town),o.a.createElement(Dt.a,{align:"center"},e.complaint.length),o.a.createElement(Dt.a,{align:"center"},o.a.createElement(ga.a,{control:o.a.createElement(r,{checked:(t=e.supervisorName.name,-1!==a.indexOf(t)),onChange:function(t){return n(t,e.supervisorName.name)},name:"checkedG"})})));var t})))))}Object(O.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:500}}}));function ba(e){e.sel;var t=e.dialogClose,r=e.save,l=e.open,s=e.token,c=e.role,i=e.data,u=o.a.useState([]),m=Object(g.a)(u,2),d=m[0],p=m[1],f=a(19),h=Object(n.useState)(f.get("userData")),v=Object(g.a)(h,2),E=(v[0],v[1]),y=function(e,a,n){var o={StatusId:e,id:a,supervisor:n};b.a.post("https://m2r31169.herokuapp.com/api/updateComplainStatus",o,{headers:{"x-access-token":s}}).then((function(e){console.log("post hogayi"+e.data),t(),r()})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?(f.remove("userData"),f.clearAll(),E({}),window.location="/"):503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later"))),console.log("error agaya"+e)}))};return Object(n.useEffect)((function(){console.log("sellll",i)}),[]),"ADMIN"===c&&o.a.createElement(Rt.a,{fullWidth:!0,open:l,onClose:t,maxWidth:"sm","aria-labelledby":"form-dialog-title"},o.a.createElement(ma.a,null," ","Do you want to assign the new unresolved complaints to the following supervisors ?"),o.a.createElement(fa,{data:i,handleClick:function(e,t){var a=d.indexOf(t),n=[];-1===a?n=n.concat(d,t):0===a?n=n.concat(d.slice(1)):a===d.length-1?n=n.concat(d.slice(0,-1)):a>0&&(n=n.concat(d.slice(0,a),d.slice(a+1))),p(n),console.log(n)},selected:d}),o.a.createElement(qt.a,null,o.a.createElement(Xt.a,{onClick:t,color:"primary"},"Cancel"),o.a.createElement(Xt.a,{onClick:function(){d.forEach((function(e){if(console.log("dataaaa",i),i.length>0){var t=i.filter((function(e){return null!=e})).find((function(t){return t.supervisorName.name===e}));t.complaint.forEach((function(e){console.log(3,e.id,t.supervisorName.supervisorId),y(3,e.id,t.supervisorName.supervisorId)}))}}))}},"Save")))}var ha=a(472),va=a(257),Ea=Object(da.a)({root:{borderRadius:20,height:10,backgroundColor:Object(wt.e)("rgb(142, 36, 170)",.75)},bar:{borderRadius:20,backgroundColor:"rgb(142, 36, 170)"}})(ha.a),ya=Object(da.a)({root:{borderRadius:20,height:10,backgroundColor:Object(wt.e)("rgb(251, 140, 0)",.75)},bar:{borderRadius:20,backgroundColor:"rgb(251, 140, 0)"}})(ha.a),xa=Object(da.a)({root:{borderRadius:20,height:10,backgroundColor:Object(wt.e)("#008081",.75)},bar:{borderRadius:20,backgroundColor:"#008081"}})(ha.a),ja=Object(da.a)({root:{borderRadius:20,height:10,backgroundColor:Object(wt.e)("#FF0000",.75)},bar:{borderRadius:20,backgroundColor:"#FF0000"}})(ha.a);Object(va.a)({typography:{htmlFontSize:28}});function Oa(e){var t=Object(n.useState)({}),a=Object(g.a)(t,2),r=a[0],l=a[1];function s(){return(s=Object(m.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a={}).resolved=100*e.resolved/e.total,a.unresolved=100*e.unresolved/e.total,a.rejected=100*e.rejected/e.total,a.assigned=100*e.assigned/e.total,console.log("hereeeeeeeeeeeeeeeeeeeeee"+e.unresolved),l(a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){s.apply(this,arguments)}()}),[e]),o.a.createElement(Et.a,{className:"visualize elevationPaper"},o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"div",fontSize:"18"},"Total Complaints"),o.a.createElement(Ne.a,{component:"div",className:"name"},"Resolved Complaints"),o.a.createElement(vt.a,{container:!0,className:"bar"},o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:12},o.a.createElement(xa,{variant:"determinate",display:"inline",value:Object.keys(r).length>0?r.resolved:0})),o.a.createElement(vt.a,{item:!0,xs:12,md:12,sm:12,className:"value"},o.a.createElement(Ne.a,{fontFamily:"Monospace",component:"span",fontSize:"0.6rem"},e.resolved," / ",e.total))),o.a.createElement(Ne.a,{className:"name"},"Unresolved Complaints"),o.a.createElement(vt.a,{container:!0,className:"bar"},o.a.createElement(vt.a,{item:!0,xs:12,md:12,sm:12,m:12},o.a.createElement(ja,{variant:"determinate",value:Object.keys(r).length>0?r.unresolved:0})),o.a.createElement(vt.a,{item:!0,xs:12,md:12,sm:12,className:"value"},o.a.createElement(Ne.a,{fontFamily:"Monospace",component:"span",fontSize:"0.6rem"},e.unresolved," / ",e.total))),o.a.createElement(Ne.a,{className:"name"},"Rejected Complaints"),o.a.createElement(vt.a,{container:!0,className:"bar"},o.a.createElement(vt.a,{item:!0,xs:12,md:12,sm:12,m:0},o.a.createElement(ya,{variant:"determinate",value:Object.keys(r).length>0?r.rejected:0})),o.a.createElement(vt.a,{item:!0,xs:12,md:12,sm:12,className:"value"},o.a.createElement(Ne.a,{fontFamily:"Monospace",component:"span",fontSize:"0.6rem"},e.rejected," / ",e.total))),o.a.createElement(Ne.a,{className:"name"},"Assigned Complaints"),o.a.createElement(vt.a,{container:!0,className:"bar"},o.a.createElement(vt.a,{item:!0,xs:12,md:12,sm:12,m:0},o.a.createElement(Ea,{variant:"determinate",value:Object.keys(r).length>0?r.assigned:0})),o.a.createElement(vt.a,{item:!0,xs:12,md:12,sm:12,className:"value"}," ",o.a.createElement(Ne.a,{fontFamily:"Monospace",component:"span",fontSize:"0.6rem"},e.assigned," / ",e.total))))}var wa=a(242),Sa=a.n(wa);function ka(e){return o.a.createElement(Et.a,{className:"visualize elevationPaper"},o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"div",fontSize:"18"},"Priority"),o.a.createElement(Sa.a,{style:{height:"160px "},radius:50,labelPosition:50,data:[{title:"High",value:e.high,color:"red"},{title:"Medium",value:e.medium,color:"orange"},{title:"Low",value:e.low,color:"rgba(251, 179, 26, 0.33)"}]}),o.a.createElement(Ne.a,{textAlign:"left",color:"rgba(251, 179, 26, 0.33)",fontWeight:"bold",component:"span",fontSize:"3rem"},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","Low"),o.a.createElement(Ne.a,{textAlign:"left",color:"orange",fontWeight:"bold",component:"span",fontSize:"3rem",marginLeft:1},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","Medium"),o.a.createElement(Ne.a,{textAlign:"left",color:"red",fontWeight:"bold",component:"span",fontSize:"3rem",marginLeft:1},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","High"))}var Na=a(180),Ra=a.n(Na),Ca=a(499),Ta=a(498);function Da(e){var t=e.filterValue,a=e.orignalData,n=e.filter,r=e.userData;return o.a.createElement("div",null,o.a.createElement(ft,{key:n.statusType[0],orignalData:a,label:"Status",name:"statusType",value:n.statusType,filterValue:t}),o.a.createElement(ft,{key:n.priority[0],orignalData:a,label:"Priority",name:"priority",value:n.priority,filterValue:t}),o.a.createElement(ft,{name:"type",orignalData:a,label:"Type",value:n.type,key:n.type[0],filterValue:t}),o.a.createElement(ft,{name:"town",orignalData:a,label:"Town",value:n.town,key:n.town[0],filterValue:t}),"ADMIN"==r.Role&&o.a.createElement(ft,{name:"supervisorName",orignalData:a,label:"Supervisor",value:n.supervisorName,key:n.supervisorName[0],filterValue:t}),"ADMIN"==r.Role&&o.a.createElement(ft,{name:"otherStatus",orignalData:a,label:"Supervisor Status",value:n.otherStatus,key:n.otherStatus[0],filterValue:t}))}var Aa=Object(O.a)({list:{width:250},fullList:{width:"auto"}});function Ia(e){var t=e.filterValue,a=e.orignalData,n=e.filter,r=e.userData,l=Aa(),s=o.a.useState({right:!1}),c=Object(g.a)(s,2),i=c[0],u=c[1],m=function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&u(Object(p.a)(Object(p.a)({},i),{},Object(d.a)({},e,t)))}};return o.a.createElement("span",null,["right"].map((function(e){return o.a.createElement(o.a.Fragment,{key:e},o.a.createElement(Xt.a,{style:{color:"#008080",fontWeight:"600",fontSize:"18"},onClick:m(e,!0)},"Filters"),o.a.createElement(se.a,{anchor:e,open:i[e],onClose:m(e,!1)},function(e){return o.a.createElement("div",{className:Object(ct.default)(l.list,Object(d.a)({},l.fullList,"top"===e||"bottom"===e)),role:"presentation",onClick:m(e,!1),onKeyDown:m(e,!1)},o.a.createElement(Da,{key:n.length,filter:n,orignalData:a,filterValue:t,userData:r}))}(e)))})))}var Ma=a(19);function Pa(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var Wa=function(e){Object(_e.a)(a,e);var t=Object($e.a)(a);function a(){return Object(Ke.a)(this,a),t.apply(this,arguments)}return Object(Qe.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.order,n=e.orderBy,r=e.onRequestSort;return o.a.createElement(It.a,{className:"tableHead"},o.a.createElement(Mt.a,null,[{id:"id",numeric:!0,disablePadding:!1,label:"Id"},{id:"type",numeric:!1,disablePadding:!1,label:"Type"},{id:"date",numeric:!0,disablePadding:!1,label:"Date"},{id:"priority",numeric:!0,disablePadding:!1,label:"Requests"},{id:"Town",numeric:!1,disablePadding:!1,label:"Town"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"}].map((function(e){return o.a.createElement(Dt.a,{key:e.id,align:"center",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},o.a.createElement(Ta.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(l=e.id,function(e){r(e,l)})},e.label.toUpperCase(),n===e.id?o.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var l})),o.a.createElement(Dt.a,{align:"center"})))}}]),a}(o.a.Component),za=Object(O.a)((function(e){return{root:{width:"100%"},paper:{overflowY:"auto",backgroundColor:"transparent",marginBottom:e.spacing(2)},table:{},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},backdrop:{zIndex:1,color:"#fff"}}}));function Fa(e){var t=za(),a=e.location.search,r=new URLSearchParams(a),l=Object(n.useState)(r.get("complainIdOpen")),s=Object(g.a)(l,2),c=s[0],i=s[1],f=e.location,h=f.statusFilter,v=f.typeFilter,E=f.notifFilter,y=(f.nootifId,Object(n.useState)({statusType:[],type:[],priority:[],town:[],supervisorName:[],otherStatus:[]})),x=Object(g.a)(y,2),j=x[0],O=x[1],k=o.a.useState("desc"),N=Object(g.a)(k,2),R=N[0],C=N[1],T=o.a.useState("date"),D=Object(g.a)(T,2),A=D[0],I=D[1],M=o.a.useState(0),P=Object(g.a)(M,2),W=P[0],z=P[1],F=o.a.useState(10),L=Object(g.a)(F,2),U=L[0],V=L[1],B=o.a.useState(!0),H=Object(g.a)(B,2),q=H[0],X=H[1],G=o.a.useState(!1),J=Object(g.a)(G,2),Z=(J[0],J[1],Object(n.useState)(!1)),K=Object(g.a)(Z,2),Q=(K[0],K[1]),_=Object(n.useState)([]),$=Object(g.a)(_,2),ee=$[0],te=$[1],ae=Object(n.useState)([]),ne=Object(g.a)(ae,2),oe=ne[0],re=ne[1],le=Object(n.useState)([]),se=Object(g.a)(le,2),ce=se[0],ie=se[1],ue=o.a.useState(!1),me=Object(g.a)(ue,2),de=me[0],pe=me[1],ge=o.a.useState(!1),fe=Object(g.a)(ge,2),be=fe[0],he=fe[1],ve=o.a.useState({}),Ee=Object(g.a)(ve,2),ye=Ee[0],xe=Ee[1],je=Object(n.useState)(Ma.get("userData")),Oe=Object(g.a)(je,2),we=Oe[0],Se=Oe[1],ke=o.a.useState(""),Re=Object(g.a)(ke,2),Ce=(Re[0],Re[1],o.a.useState([])),Te=Object(g.a)(Ce,2),De=Te[0],Ae=Te[1],Ie=Object(n.useState)(!1),Me=Object(g.a)(Ie,2),Pe=Me[0],We=Me[1],ze=Object(n.useState)([]),Fe=Object(g.a)(ze,2),Le=Fe[0],Ue=Fe[1],Ve=Object(n.useState)(!0),Ye=Object(g.a)(Ve,2),Be=Ye[0],He=Ye[1],qe=Object(n.useState)("all"),Xe=Object(g.a)(qe,2),Ge=Xe[0],Je=Xe[1],Ze=function(){Ma.remove("userData"),Ma.clearAll(),Se({}),window.location="/"};Object(n.useEffect)((function(){console.log("complainIdopen",c,oe),0!==ce.length&&null!=c&&be!=c&&(pe(!0),xe(ce.find((function(e){return e.id==c}))),he(c))}),[c,ce]),Object(n.useEffect)((function(){console.log("props",h),null!=E&&Ke("statusType",[E]),null!=v&&Ke("type",[v]),null!=h&&Ke("otherStatus",[h])}),[h,v]),Object(n.useEffect)((function(){"ADMIN"==we.Role&&function(){var e=oe.filter((function(e){return"Unresolved"===e.statusType})),t=De.map((function(a){if(null!=e.find((function(e){return e.town===a.town})))return{supervisorName:a,complaint:e.filter((function(e){return e.town===a.town}))};console.log("lalala",t)}));t.find((function(e){return null!=e}))&&We(!0),Ue(t),console.log("experiment"+JSON.stringify(t))}()}),[ce,De]),Object(n.useEffect)((function(){re("active"==Ge?ce.filter((function(e){return"Active"===e.statusType||"Unresolved"===e.statusType||"Assigned"===e.statusType||"Resolved"==e.statusType&&"Resolved"!=e.otherStatus})):"inactive"==Ge?ce.filter((function(e){return"Resolved"===e.statusType||"Rejected"===e.statusType})):ce)}),[Ge,ce]),Object(n.useEffect)((function(){j.statusType.length>0||j.type.length>0||j.priority.length>0||j.town.length>0||j.supervisorName.length>0||j.otherStatus.length>0?X(!1):X(!0);var e=function(){var e=Object.keys(j);return oe.filter((function(t){return e.every((function(e){return!j[e].length||j[e].includes(t[e])}))}))}();te(e)}),[j,oe]);var Ke=function(e,t){re(ce),O((function(a){return Object(p.a)(Object(p.a)({},a),{},Object(d.a)({},e,t))})),z(0)};function Qe(){return _e.apply(this,arguments)}function _e(){return(_e=Object(m.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],b.a.get("https://m2r31169.herokuapp.com/api/getComplaints",{headers:{"x-access-token":we.accessToken}}).then((function(e){for(var t in console.log("WOW!",e.data),e.data){var n={};n.id=e.data[t].complain.id,n.description=e.data[t].complain.description,n.longitude=e.data[t].complain.Location.longitude,n.latitude=e.data[t].complain.Location.latitude,n.image=e.data[t].complain.image,n.afterImage=e.data[t].complain.resolvedComplaintImage,n.statusType=e.data[t].complain.Status.statusType,n.statusId=e.data[t].complain.Status.id,n.date=e.data[t].complain.createdAt,n.town=e.data[t].complain.Location.town.name,n.priority=e.data[t].complain.noOfRequests>5?"high":e.data[t].complain.noOfRequests>1?"medium":"low",n.reason="Rejected"==e.data[t].complain.Status.statusType?e.data[t].complain.reasonForRejection:"",n.requests=e.data[t].complain.noOfRequests,n.type=e.data[t].complain.ComplaintType.typeName,n.supervisorId=e.data[t].complain.assignedTo,n.supervisorName=e.data[t].complain.User&&e.data[t].complain.User.name,n.otherStatus=e.data[t].supervisorStatus?e.data[t].supervisorStatus:e.data[t].adminStatus,a.push(n)}te(a),re(a),He(!1),ie(a)})).catch((function(t){t.response&&(400==t.response.status&&He(!1),401===t.response.status||403===t.response.status?Ze():503!==t.response.status&&500!==t.response.status||(console.log(t.response.status),e.handleError(t.response.status))),console.log("complaints nahi arhi",t.response),Q(t)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){console.log("userData"+JSON.stringify(we)),"ADMIN"==we.Role&&function(){var e=[];b.a.get("https://m2r31169.herokuapp.com/api/getSuperVisor_Town",{headers:{"x-access-token":we.accessToken}}).then((function(t){for(var a in console.log("supervisor yrrrr"+JSON.stringify(t.data.supervisors[0])),t.data.supervisors)console.log("supervisor"+t.data.supervisors[a]),e.push(t.data.supervisors[a]);Ae(e)})).catch((function(e){console.log("errrrrror",e),Q(e)}))}(),Qe()}),[we]);return o.a.createElement("div",{className:"table"},o.a.createElement(vt.a,{container:!0,justify:"flex-start",alignItems:"flex-start"},o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:12,lg:9},o.a.createElement(Et.a,{className:"filter elevationPaper"},o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:12,lg:12},o.a.createElement("div",{style:{minHeight:"50px"}},window.innerWidth>600?o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",fontSize:"18",component:"span"},"Filters"):o.a.createElement(Ia,{key:j.length,filter:j,orignalData:oe,filterValue:Ke,userData:we}),o.a.createElement(Ne.a,{style:{float:"right"}},o.a.createElement(rt.a,{className:t.formControl},o.a.createElement(lt.a,{value:Ge,onChange:function(e){Je(e.target.value)},displayEmpty:!0,inputProps:{"aria-label":"Without label"}},o.a.createElement(Y.a,{value:"active"},"Active Complaints"),o.a.createElement(Y.a,{value:"inactive"},"Inactive Complaints"),o.a.createElement(Y.a,{value:"all"},"All Complaints"))),window.innerWidth>600&&o.a.createElement(Xt.a,{disabled:q,className:"clearButton",onClick:function(){O({statusType:[],type:[],priority:[],town:[],supervisorName:[],otherStatus:[]})}},"Clear All")))),o.a.createElement(vt.a,{item:!0,xs:9,sm:9,md:12,lg:12},window.innerWidth>600&&o.a.createElement(Da,{key:j.length,filter:j,orignalData:oe,filterValue:Ke,userData:we}))),o.a.createElement(Nt.Scrollbars,{style:{minWidth:150,minHeight:420}},o.a.createElement(Et.a,{className:"elevationPaper"},o.a.createElement(At.a,{className:"tableContainer"},o.a.createElement(Ct.a,{className:t.table,"aria-labelledby":"tableTitle",size:"small","aria-label":"enhanced table"},o.a.createElement(Wa,{classes:t,order:R,orderBy:A,onRequestSort:function(e,t){C(A===t&&"asc"===R?"desc":"asc"),console.log("this is property"+t),I(t)},rowCount:ee.length}),o.a.createElement(Tt.a,{className:"tableBody"},function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(ee,function(e,t){return"desc"===e?function(e,a){return Pa(e,a,t)}:function(e,a){return-Pa(e,a,t)}}(R,A)).slice(W*U,W*U+U).map((function(e,t){var a="enhanced-table-checkbox-".concat(t);return o.a.createElement(Mt.a,{className:"tableRow",hover:!0,role:"checkbox",tabIndex:-1,key:e.id},o.a.createElement(Dt.a,{component:"th",id:a,scope:"row",align:"center",padding:"none"},e.id),o.a.createElement(Dt.a,{align:"left"},e.type),o.a.createElement(Dt.a,{align:"left"},nt()(e.date).format("DD/MM/YY")),o.a.createElement(Dt.a,{align:"center"},e.requests),o.a.createElement(Dt.a,{align:"left"},e.town),o.a.createElement(Dt.a,{align:"left"},o.a.createElement(St,{name:e.statusType,onFilterTable:Ke,buttonComp:"div"}),"Resolved"==e.otherStatus&&"Resolved"!=e.statusType?o.a.createElement(Ne.a,{color:"red"},o.a.createElement(tt.a,{style:{fontSize:"20px"}}),"Please verify"):""),o.a.createElement(Dt.a,{align:"left"},o.a.createElement(Ra.a,{style:{fontSize:"20px",color:"#8A8A8A"},onClick:function(){return function(e){window.history.pushState(null,"","/dashboard/complaints?complainIdOpen=".concat(e.id)),pe(!0),xe(e)}(e)}})))}))))))),o.a.createElement(Ca.a,{rowsPerPageOptions:[10,15,30],component:"div",count:ee.length,rowsPerPage:U,page:W,onChangePage:function(e,t){z(t)},onChangeRowsPerPage:function(e){V(parseInt(e.target.value,10)),z(0)}})),window.innerWidth>500&&o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:12,lg:3},o.a.createElement(vt.a,{container:!0},o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:6,lg:12},o.a.createElement(Oa,{key:ce.length,resolved:ce.filter((function(e){return"Resolved"===e.statusType})).length,unresolved:ce.filter((function(e){return"Unresolved"===e.statusType})).length,rejected:ce.filter((function(e){return"Rejected"===e.statusType})).length,assigned:"ADMIN"===we.Role?ce.filter((function(e){return"Assigned"===e.statusType})).length:ce.filter((function(e){return"Active"===e.statusType})).length,total:ce.length})),o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:6,lg:12}," ",o.a.createElement(ka,{high:ce.filter((function(e){return"high"==e.priority})).length,medium:ce.filter((function(e){return"medium"==e.priority})).length,low:ce.filter((function(e){return"low"==e.priority})).length}))))),o.a.createElement(S.a,{key:ee.length,className:t.backdrop,open:Be},o.a.createElement(w.ImpulseSpinner,{size:90,color:"#008081",loading:Be})),Object.keys(ye).length>0&&o.a.createElement(ua,{key:ye.id,role:we.Role,open:de,sel:ye,dialogClose:function(){pe(!1),i(null),window.history.pushState(null,"","/dashboard/complaints")},save:Qe,token:we.accessToken,supervisors:De}),o.a.createElement(ba,{data:Le,open:Pe,dialogClose:function(){We(!1)},role:we.Role,save:Qe,token:we.accessToken}))}a(143);var La=a(475),Ua=a(500),Va=a(494),Ya=a(474),Ba=a(158),Ha=a.n(Ba),qa=a(159),Xa=a.n(qa),Ga=a(244),Ja=a.n(Ga),Za=a(19),Ka=Object(O.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"},myButton:{background:"linear-gradient(45deg, #008080 30%, #20B2AA 90%)",border:0,color:"white",width:100,justifyContent:"center",textDecoration:"none",boxShadow:"0px 8px 10px -5px rgba(124,133,133,1)",marginRight:"15px",marginBottom:"7px"},backdrop:{zIndex:1,color:"#fff"}}}));function Qa(e){var t,a=Ka(),r=o.a.useState(!1),l=Object(g.a)(r,2),s=l[0],c=l[1],i=o.a.useState([]),f=Object(g.a)(i,2),h=(f[0],f[1],Object(n.useState)(!1)),v=Object(g.a)(h,2),E=v[0],y=v[1],x=Object(n.useState)(Za.get("userData")),O=Object(g.a)(x,2),w=O[0],S=O[1],k=Object(n.useState)({username:"",helperTextUserName:"",errorUser:!1,password:"",showPassword:!1,helperTextPassword:"",errorPassword:!1,name:"",helperTextName:"",errorName:!1,email:"",helperTextEmail:"",errorEmail:!1,phoneNumber:"",helperTextPhoneNumber:"",errorPhoneNumber:!1,town:"",helperTextMain:""}),N=Object(g.a)(k,2),R=N[0],C=N[1],T=function(){c(!1)},D=function(e){C(Object(p.a)(Object(p.a)({},R),{},Object(d.a)({},e.target.name,e.target.value)))},A=e.town.map((function(e){return o.a.createElement(Y.a,{value:e},e)}));return o.a.createElement("div",null," ",o.a.createElement(Ua.a,{title:"Add Supervisor"},o.a.createElement(Ja.a,{className:"addbutton",onClick:function(){c(!0)},style:{margin:"13px 16px  0 10px",fontSize:"1.7rem",color:"#008080",border:0}},"Add Supervisor")),o.a.createElement(Rt.a,{classes:{paper:a.dialogPaper},fullWidth:!0,maxWidth:"sm",open:s,onClose:T,"aria-labelledby":"form-dialog-title"},o.a.createElement(Et.a,(t={className:"filter elevationPaper",fullWidth:!0,padding:"none"},Object(d.a)(t,"className","detail"),Object(d.a)(t,"style",{textDecoration:"none",boxShadow:"0px 8px 10px -5px rgba(124,133,133,1)",borderBottom:"3px solid #008080"}),t),o.a.createElement("div",null,o.a.createElement(Ne.a,{className:"box1 detail",textAlign:"left",color:"#008080",fontWeight:"500",fontSize:"16px",padding:"none",margin:"2px",component:"span"},"Add Details")," ",o.a.createElement(Ne.a,{style:{float:"right"}},o.a.createElement(ie.a,{onClick:T,"aria-label":"close",style:{padding:"0px",marginRight:"7px",backgroundColor:"transparent"}},o.a.createElement(Ft.a,{style:{color:"teal"}}))))),o.a.createElement(Nt.Scrollbars,{style:{minWidth:100,minHeight:300}},o.a.createElement(Ya.a,null,o.a.createElement("div",{className:a.margin},o.a.createElement("form",null,o.a.createElement(vt.a,{container:!0,spacing:2,justify:"flex-start"},o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:6,lg:6},o.a.createElement(j.a,{error:R.errorName,helperText:R.helperTextName,label:"Name",id:"name",name:"name",value:R.name,onChange:D,onBlur:function(e){""===R.name||R.name.match(/^[a-zA-Z ]*$/)?C(Object(p.a)(Object(p.a)({},R),{},{helperTextName:"",errorName:!1})):C(Object(p.a)(Object(p.a)({},R),{},{helperTextName:"Please use alphabets",errorName:!0}))},onFocus:function(){C(Object(p.a)(Object(p.a)({},R),{},{helperTextMain:"",helperTextName:"",errorName:!1}))},style:{width:"93%"},autoFocus:!0})," ")," ",o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:6,lg:6},o.a.createElement(j.a,{id:"username",error:R.errorUser,helperText:R.helperTextUserName,label:"Username",value:R.username,name:"username",onChange:D,onBlur:function(e){""===R.username||R.username.match(/^[0-9a-zA-Z]+$/)?C(Object(p.a)(Object(p.a)({},R),{},{helperTextUserName:"",errorUser:!1})):C(Object(p.a)(Object(p.a)({},R),{},{helperTextUserName:"Please use alphanumerics",errorUser:!0}))},onFocus:function(){C(Object(p.a)(Object(p.a)({},R),{},{helperTextMain:"",helperTextUserName:"",errorUser:!1}))},style:{width:"93%"}})),o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:6,lg:6},o.a.createElement(j.a,{id:"email",label:"Email",name:"email",value:R.email,error:R.errorEmail,helperText:R.helperTextEmail,onChange:D,onBlur:function(e){""===R.email||R.email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?C(Object(p.a)(Object(p.a)({},R),{},{helperTextEmail:"",errorEmail:!1})):C(Object(p.a)(Object(p.a)({},R),{},{helperTextEmail:"Please enter valid email",errorEmail:!0}))},onFocus:function(){C(Object(p.a)(Object(p.a)({},R),{},{helperTextMain:"",helperTextEmail:"",errorEmail:!1}))},style:{width:"93%"}})),o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:6,lg:6},o.a.createElement(j.a,{id:"phonenumber",label:"Phone number",name:"phoneNumber",value:R.phoneNumber,inputProps:{maxLength:11},error:R.errorPhoneNumber,helperText:R.helperTextPhoneNumber,onChange:D,onBlur:function(e){""===R.phoneNumber||R.phoneNumber.match(/^\d{11}$/)?C(Object(p.a)(Object(p.a)({},R),{},{helperTextPhoneNumber:"",errorPhoneNumber:!1})):C(Object(p.a)(Object(p.a)({},R),{},{helperTextPhoneNumber:"Invalid phone number",errorPhoneNumber:!0}))},onFocus:function(){C(Object(p.a)(Object(p.a)({},R),{},{helperTextMain:"",helperTextPhoneNumber:"",errorPhoneNumber:!1}))},style:{width:"93%"}}))," ",o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:6,lg:6},o.a.createElement(rt.a,{style:{width:"93%"}},o.a.createElement(st.a,{id:"demo-simple-select-label",variant:"standard"},"Town"),o.a.createElement(lt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"town",value:R.town,onFocus:function(){C(Object(p.a)(Object(p.a)({},R),{},{helperTextMain:""}))},onChange:D},A))),o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:6,lg:6}," ",o.a.createElement(rt.a,{style:{width:"93%"}},o.a.createElement(st.a,{htmlFor:"standard-adornment-password"},"Password"),o.a.createElement(ut.a,{id:"password",name:"password",value:R.password,type:R.showPassword?"text":"password",onFocus:function(){C(Object(p.a)(Object(p.a)({},R),{},{helperTextMain:""}))},onChange:D,endAdornment:o.a.createElement(La.a,{position:"end"},o.a.createElement(ie.a,{style:{color:"#008080"},"aria-label":"toggle password visibility",onClick:function(){C(Object(p.a)(Object(p.a)({},R),{},{showPassword:!R.showPassword}))},onMouseDown:function(e){e.preventDefault()}},R.showPassword?o.a.createElement(Ha.a,null):o.a.createElement(Xa.a,null)))})))))," "))," ")," ",o.a.createElement(qt.a,null," ",o.a.createElement(vt.a,{container:!0,spacing:2,justify:"flex-start"}," ",o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:12,lg:8},o.a.createElement("div",{className:"boxhelper "},o.a.createElement(Ne.a,{textAlign:"left",color:"red",fontWeight:"500",fontSize:"14px"},R.helperTextMain)," "))," ")," ",o.a.createElement(Xt.a,{style:{display:E?"none":"block"},type:"submit",className:a.myButton,onClick:function(t){t.preventDefault();var a="+92"+R.phoneNumber.slice(-10);y(!0);var n={name:R.name,username:R.username,password:R.password,email:R.email,phoneNumber:a,role:"SUPERVISOR",town:R.town};""===R.username||""===R.password||""===R.phoneNumber||""===R.email||""===R.name||""===R.town?(C(Object(p.a)(Object(p.a)({},R),{},{helperTextMain:"*Please fill all fields"})),y(!1)):b.a.post("https://m2r31169.herokuapp.com/api/createSupervisor",n,{headers:{"Content-Type":"application/json","x-access-token":w.accessToken}}).then(function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:200===a.status&&(e.onAdd(a.data),y(!1),c(!1));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){e.response&&(400==e.response.status?(y(!1),"email"==e.response.data?C(Object(p.a)(Object(p.a)({},R),{},{helperTextMain:"*Email is already in use"})):"username"==e.response.data?C(Object(p.a)(Object(p.a)({},R),{},{helperTextMain:"*Username is already in use"})):"phoneNumber"==e.response.data&&C(Object(p.a)(Object(p.a)({},R),{},{helperTextMain:"*PhoneNumber is already in use"}))):401!==e.response.status&&403!==e.response.status||(Za.remove("userData"),Za.clearAll(),S({}),window.location="/"),503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later")))}))}},"Submit")," ",o.a.createElement(ra.a,{style:{display:E?"block":"none",color:"teal"}}))))}var _a=a(409),$a=a(411),en=a(476),tn=a(245),an=a.n(tn),nn=a(19),on=Object(O.a)((function(e){return{backdrop:{zIndex:1,color:"#fff"}}}));function rn(e){var t,a=o.a.useState(!1),r=Object(g.a)(a,2),l=r[0],s=r[1],c=(on(),Object(n.useState)(!1)),i=Object(g.a)(c,2),p=i[0],f=i[1],h=Object(n.useState)(nn.get("userData")),v=Object(g.a)(h,2),E=v[0],y=v[1],x=o.a.useState(e.rowData.town),j=Object(g.a)(x,2),O=j[0],w=j[1],S=function(){s(!1)},k=function(t){f(!0);var a={supervisorId:e.rowData.supervisorId,town:t};b.a.post("https://m2r31169.herokuapp.com/api/updateTown",a,{headers:{"Content-Type":"application/json","x-access-token":E.accessToken}}).then(function(){var a=Object(m.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:200===n.status&&(e.onUpdate(e.rowData,t),f(!1),s(!1));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){e.response&&(f(!1),401!==e.response.status&&403!==e.response.status||(nn.remove("userData"),nn.clearAll(),y({}),window.location="/"),503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later")))}))};return o.a.createElement("div",null," ",o.a.createElement(ie.a,{onClick:function(){s(!0)},style:{backgroundColor:"transparent"}},o.a.createElement(an.a,{style:{color:"#008080",fontSize:"20px",padding:0,border:0}})," "),o.a.createElement(Rt.a,{open:l,onClose:S,"aria-labelledby":"form-dialog-title"},o.a.createElement(Nt.Scrollbars,{style:{minWidth:300,minHeight:400}},o.a.createElement(Et.a,(t={className:"filter elevationPaper",fullWidth:!0,padding:"none"},Object(d.a)(t,"className","detail"),Object(d.a)(t,"style",{textDecoration:"none",boxShadow:"0px 4px 8px -5px rgba(124,133,133,1)",borderBottom:"3px solid #008080"}),t),o.a.createElement(Ne.a,{className:"box1 detail",textAlign:"left",color:"#008080",fontWeight:"500",fontSize:"16px",padding:"none",margin:"2px",component:"span"},"Select Town")," ",o.a.createElement(Ne.a,{style:{float:"right"}},o.a.createElement(ie.a,{onClick:S,"aria-label":"close",style:{padding:"0px",marginRight:"7px",backgroundColor:"transparent"}},o.a.createElement(Ft.a,{style:{color:"teal"}})))),o.a.createElement(_a.a,{component:"nav","aria-label":"main mailbox folders"},e.town.map((function(e){return o.a.createElement($a.a,{style:{boxShadow:" 0 1px 4px 0 rgba(0, 0, 0, 0.19)"},button:!0,selected:O===e,onClick:function(){w(e)}},o.a.createElement(en.a,{primary:e}))}))),o.a.createElement(qt.a,null,o.a.createElement(Xt.a,{style:{display:p?"none":"block"},onClick:function(){k(O)},color:"primary"},"Update")," ",o.a.createElement(ra.a,{style:{display:p?"block":"none",color:"teal"}}))," ")," "))}var ln=a(248),sn=a.n(ln),cn=a(247),un=a.n(cn),mn=a(246),dn=a.n(mn),pn=a(413),gn=a(75),fn=a.n(gn);function bn(e){var t=o.a.useState(!1),a=Object(g.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(!1),c=Object(g.a)(s,2),i=(c[0],c[1],function(){l(!1)});return o.a.createElement("div",null,o.a.createElement(ie.a,{style:{backgroundColor:"transparent"}},o.a.createElement(fn.a,{onClick:function(){l(!0)},style:{color:"#008080",fontSize:"20px",padding:0,border:0}})),o.a.createElement(Rt.a,{open:r,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(ma.a,{id:"alert-dialog-title"},"Are you sure you want to delete this row?"),o.a.createElement(qt.a,null,o.a.createElement(Xt.a,{onClick:i,color:"primary"},"Cancel"),o.a.createElement(Xt.a,{onClick:function(){e.onDelete(e.superId),l(!1)},color:"primary",autoFocus:!0},"Delete")," ")))}var hn=a(19);a(140);var vn=function(e){var t=Object(n.useState)({_0_2days:70,_3_4days:20,_5_6days:5,moreThan6days:5}),a=Object(g.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(!0),c=Object(g.a)(s,2),i=c[0],u=c[1],m=Object(n.useState)(0),p=Object(g.a)(m,2),f=p[0],h=p[1],v=Object(n.useState)(hn.get("userData")),E=Object(g.a)(v,2),y=E[0],x=E[1];Object(n.useEffect)((function(){b.a.get("https://m2r31169.herokuapp.com/api/getSupervisorResolveTime?id="+e.superId,{headers:{"x-access-token":y.accessToken}}).then((function(e){null!==e.data._0_2days&&null!==e.data._3_4days&&null!==e.data._5_6days&&null!==e.data.moreThan6days?(l(e.data),u(!1)):(h(1),l({_0_2days:0,_3_4days:0,_5_6days:0,moreThan6days:0}),u(!1))})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?(hn.remove("userData"),hn.clearAll(),x({}),window.location="/"):503===e.response.status||500===e.response.status?(u(!1),console.log(e.response.status)):400===e.response.status&&(h(1),l({_0_2days:0,_3_4days:0,_5_6days:0,moreThan6days:0}),u(!1))),console.error(e)}))}),[]);var j={data:{series:[r._5_6days,r._0_2days,r._3_4days,r.moreThan6days]},options:{labelInterpolationFnc:function(e){return 0===e?"":e+"%"}}};return o.a.createElement("div",{className:"resolve-mains"},o.a.createElement(Ne.a,{style:{borderBottom:"1px solid #99999957"},textAlign:"center",color:"black",fontWeight:"600",component:"div",fontSize:"18"},o.a.createElement("p",{className:"resolve-texts"},"Resolve Time Analysis")),0===f?o.a.createElement(je.a,Object(d.a)({style:{display:i?"none":"block"},data:j.data,type:"Pie",options:j.options},"style",{padding:"10px"})):o.a.createElement("div",{className:"no-resolve-time-heading",style:{display:i?"none":"block"}},o.a.createElement("p",{className:"resolve-text"},"No Complain Resolved")),o.a.createElement(ra.a,{style:{display:i?"block":"none",color:"teal",margin:" auto"}}),o.a.createElement("div",{style:{textAlign:"center",borderTop:"1px solid #99999957"}}," ",o.a.createElement(Ne.a,{textAlign:"left",color:"#43a047",fontWeight:"bold",component:"span",fontSize:"3rem"},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008081",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","2 days"),o.a.createElement(Ne.a,{textAlign:"left",color:" #f4c63d",fontWeight:"bold",component:"span",fontSize:"3rem",marginLeft:1},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","4 days"),o.a.createElement(Ne.a,{textAlign:"left",color:"#fb8c00",fontWeight:"bold",component:"span",fontSize:"3rem",marginLeft:1},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","6 days"),o.a.createElement(Ne.a,{textAlign:"left",color:"#FF0000",fontWeight:"bold",component:"span",fontSize:"3rem",marginLeft:1},"."),o.a.createElement(Ne.a,{textAlign:"left",color:"#008080",fontWeight:"600",component:"span",fontSize:"0.75rem"}," ","more than 6 days")))},En=a(19);function yn(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var xn=[{id:"email",numeric:!1,disablePadding:!1,label:"Email"},{id:"phoneNumber",numeric:!0,disablePadding:!1,label:"Phone Number"},{id:"town",numeric:!1,disablePadding:!1,label:"Town"}];function jn(e){var t=e.classes,a=(e.onSelectAllClick,e.order),n=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort),l=function(e){return function(t){r(t,e)}};return o.a.createElement(It.a,{className:"tableHead"},o.a.createElement(Mt.a,{style:{borderBottom:"10px solid #f3f3f3"}},o.a.createElement(Dt.a,{style:{paddingLeft:"16px",paddingRight:"3px"}}),o.a.createElement(Dt.a,{key:"name",align:"left",padding:"none",sortDirection:"name"===n&&a,style:{paddingLeft:"2px",paddingRight:"7px"}},o.a.createElement(Ta.a,{active:"name"===n,direction:"name"===n?a:"asc",onClick:l("name")},"NAME","name"===n?o.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null)),o.a.createElement(Ua.a,{title:"Resolved Complaints"},o.a.createElement(Dt.a,{key:"statistics",align:"center",style:{paddingLeft:"7px",paddingRight:"7px"}},o.a.createElement(Fe.a,{style:{color:"#66bb6a",width:"30px",height:"30px"}})," ")),o.a.createElement(Ua.a,{title:"Active Complaints"},o.a.createElement(Dt.a,{key:"statistics",align:"center",style:{paddingLeft:"7px",paddingRight:"7px"}},o.a.createElement(Ue.a,{style:{color:"#ab47bc",width:"30px",height:"30px"}}))),o.a.createElement(Ua.a,{title:"Inactive Complaints"},o.a.createElement(Dt.a,{align:"center",key:"statistics",style:{paddingLeft:"7px",paddingRight:"7px"}},o.a.createElement(Ye.a,{style:{color:"#ef5350",width:"30px",height:"30px"}}))),o.a.createElement(Ua.a,{title:"Rejected Complaints"},o.a.createElement(Dt.a,{key:"statistics",align:"center",style:{paddingLeft:"7px",paddingRight:"7px"}},o.a.createElement(He.a,{style:{color:"#ffa726",width:"30px",height:"30px"}}))),o.a.createElement(Dt.a,{key:"performance",align:"center",padding:"none",sortDirection:"performance"===n&&a,style:{paddingLeft:"7px",paddingRight:"13px"}},o.a.createElement("div",{style:{whiteSpace:" pre-wrap",padding:"0px",margin:"0 10% 0 10%",lineHeight:"110%",textAlign:"center"}},o.a.createElement(Ta.a,{style:{margin:"0px"},active:"performance"===n,direction:"performance"===n?a:"asc",onClick:l("performance")},o.a.createElement("p",null,"PERFORMANCE",o.a.createElement("br",null),o.a.createElement("span",{style:{fontSize:"10px"}},"ComplaintsResolved/week")),"performance"===n?o.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null))),xn.map((function(e){return o.a.createElement(Dt.a,{style:{paddingLeft:"7px",paddingRight:"7px"},key:e.id,align:"justify",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},o.a.createElement(Ta.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:l(e.id)},e.label.toUpperCase(),n===e.id?o.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null))})),o.a.createElement(Dt.a,{style:{paddingLeft:"0px",paddingRight:"1px"}}),o.a.createElement(Dt.a,{style:{paddingLeft:"0px",paddingRight:"1px"}}),o.a.createElement(Dt.a,{style:{paddingLeft:"0px",paddingRight:"16px"}})))}var On=Object(O.a)((function(e){return{root:{width:"100%"},paper:{overflowY:"auto",maxWidth:"800px",minWidth:"400px",backgroundColor:"transparent",width:"100%",marginBottom:e.spacing(2)},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},_theme:{color:e.palette.getContrastText("#008080"),backgroundColor:"#008080"},backdrop:{zIndex:1,color:"#fff"},margin:{margin:e.spacing(1)}}}));function wn(e){var t=e.row,a=e.labelId,n=e.classes,r=e.res,l=e.towns,s=e.handleUpdatedTown,c=e.handleDelete,i=o.a.useState(!1),u=Object(g.a)(i,2),m=u[0],p=u[1],f=o.a.useState(""),b=Object(g.a)(f,2),h=b[0],v=b[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Mt.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t.supervisorId},o.a.createElement(Dt.a,{component:"th",id:a,scope:"row",style:{paddingLeft:"16px",paddingRight:"3px"}},o.a.createElement(Va.a,Object(d.a)({className:"gridd",alt:"Remy Sharp",src:t.image},"className",n._theme),r)," "),o.a.createElement(Dt.a,{align:"left",style:{paddingLeft:"2px",paddingRight:"7px"}},t.name),o.a.createElement(Dt.a,{align:"center",style:{paddingLeft:"7px",paddingRight:"7px"}},t.Resolved),o.a.createElement(Dt.a,{align:"center",style:{paddingLeft:"7px",paddingRight:"7px"}},t.Active),o.a.createElement(Dt.a,{align:"center",style:{paddingLeft:"7px",paddingRight:"7px"}},t.Unresolved),o.a.createElement(Dt.a,{align:"center",style:{paddingLeft:"7px",paddingRight:"7px"}},t.Rejected),o.a.createElement(Dt.a,{align:"center",style:{paddingLeft:"7px",paddingRight:"13px"}},t.performance),o.a.createElement(Dt.a,{align:"left",style:{paddingLeft:"7px",paddingRight:"7px"}},t.email),o.a.createElement(Dt.a,{align:"left",style:{paddingLeft:"7px",paddingRight:"7px"}},t.phoneNumber),o.a.createElement(Dt.a,{align:"left",style:{paddingLeft:"7px",paddingRight:"0px"}},t.town),o.a.createElement(Dt.a,{align:"left",style:{paddingLeft:"0px",paddingRight:"1px"}},o.a.createElement(rn,{town:l,rowData:t,onUpdate:s})," ")," ",o.a.createElement(Dt.a,{align:"left",style:{paddingLeft:"0px",paddingRight:"1px"}},o.a.createElement(bn,{superId:t.supervisorId,onDelete:c})),o.a.createElement(Dt.a,{align:"left",style:{paddingLeft:"0px",paddingRight:"16px"}},o.a.createElement(ie.a,{style:{backgroundColor:"transparent"},"aria-label":"expand row",size:"small",onClick:function(){var e;e=t.supervisorId,v(!1===m?e:""),p(!m),console.log("opn  "+m)}},m?o.a.createElement(dn.a,{style:{color:"#008080",fontSize:"20px",padding:0,border:0}}):o.a.createElement(un.a,{style:{color:"#008080",fontSize:"20px",padding:0,border:0}})))),o.a.createElement(Mt.a,{className:"tableRow2"},o.a.createElement(Dt.a,{style:{padding:"0px 24px 0px 16px"},colSpan:13}," ",o.a.createElement(pn.a,{in:m,timeout:"auto",unmountOnExit:!0},o.a.createElement(vn,{superId:h})))))}function Sn(){var e,t=On(),a=o.a.useState("asc"),r=Object(g.a)(a,2),l=r[0],s=r[1],c=o.a.useState("calories"),i=Object(g.a)(c,2),f=i[0],h=i[1],v=o.a.useState([]),E=Object(g.a)(v,2),y=(E[0],E[1],o.a.useState(0)),x=Object(g.a)(y,2),j=x[0],O=x[1],k=Object(n.useState)(En.get("userData")),N=Object(g.a)(k,2),R=N[0],C=N[1],T=o.a.useState(""),D=Object(g.a)(T,2),A=(D[0],D[1],o.a.useState([])),I=Object(g.a)(A,2),M=(I[0],I[1]),P=Object(n.useState)([]),W=Object(g.a)(P,2),z=W[0],F=W[1],L=o.a.useState(10),U=Object(g.a)(L,2),V=U[0],Y=U[1],B=o.a.useState(!1),H=Object(g.a)(B,2),q=(H[0],H[1],o.a.useState(!1)),X=Object(g.a)(q,2),G=(X[0],X[1],o.a.useState([])),J=Object(g.a)(G,2),Z=J[0],K=J[1],Q=Object(n.useState)(!0),_=Object(g.a)(Q,2),$=_[0],ee=_[1],te=Object(n.useState)(""),ae=Object(g.a)(te,2),ne=ae[0],oe=ae[1],re=Object(n.useState)([]),le=Object(g.a)(re,2),se=le[0],ce=le[1],ie=function(){En.remove("userData"),En.clearAll(),C({}),window.location="/"};function ue(e){console.log("value aiaaaaaa "+e);var t={id:e};b.a.post("https://m2r31169.herokuapp.com/api/deleteSupervisor",t,{headers:{"x-access-token":R.accessToken}}).then((function(t){if(200===t.status){var a=z.filter((function(t){return t.supervisorId!==e}));F(a)}})).catch((function(e){e.response&&(400==e.response.status&&(ee(!1),console.log(e.response.status)),401!==e.response.status&&403!==e.response.status||ie(),503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later")))}))}function me(){return(me=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],b.a.get("https://m2r31169.herokuapp.com/api/getTowns").then((function(e){for(var a in e.data.Towns)"Select Town..."!==e.data.Towns[a]&&t.push(e.data.Towns[a]);K(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],b.a.get("https://m2r31169.herokuapp.com/api/getAllSupervisorsTownAndStatistics",{headers:{"x-access-token":R.accessToken}}).then((function(e){for(var a in console.log("suepr     "+JSON.stringify(R)),e.data.supervisors)t.push(e.data.supervisors[a]);M(t),F(t),ee(!1)})).catch((function(e){e.response&&(400==e.response.status&&ee(!1),401!==e.response.status&&403!==e.response.status||ie(),503!==e.response.status&&500!==e.response.status||console.log(e.response.status))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,t){F(z.map((function(a){return a===e?Object(p.a)(Object(p.a)({},e),{},{town:t}):a})))}Object(n.useEffect)((function(){!function(){me.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){console.log("yaaa"),function(){de.apply(this,arguments)}()}),[]);Math.min(V,z.length-j*V);return Object(n.useEffect)((function(){ce(z.filter((function(e){return e.name.toLowerCase().includes(ne.toLowerCase())||e.town.toLowerCase().includes(ne.toLowerCase())||e.phoneNumber.toLowerCase().includes(ne.toLowerCase())})))}),[ne,z]),o.a.createElement("div",null,o.a.createElement(vt.a,{container:!0,justify:"flex-start",alignItems:"flex-start"},o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:12,lg:12},o.a.createElement(Et.a,{className:"filter elevationPaper1",style:(e={position:"-webkit-sticky"},Object(d.a)(e,"position","sticky"),Object(d.a)(e,"top",0),Object(d.a)(e,"bottom",0),Object(d.a)(e,"zIndex",1),e)},o.a.createElement(vt.a,{container:!0},o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:6,lg:6},o.a.createElement(Ne.a,{component:"span"}," ",o.a.createElement(Qa,{town:Z,onAdd:function(e){F((function(t){return[].concat(Object(ot.a)(t),[e])}))}}))),o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:6,lg:6},o.a.createElement(Ne.a,{flexGrow:1,style:{float:"right"},component:"span",marginRight:"10px"},o.a.createElement(rt.a,null,o.a.createElement(ut.a,{onChange:function(e){oe(e.target.value)},value:ne,placeholder:"Search",id:"input-with-icon-adornment",endAdornment:o.a.createElement(La.a,{position:"end"},o.a.createElement(Ye.a,{onClick:function(){oe("")},fontSize:"small",style:{color:"#008080",cursor:"pointer"}})),startAdornment:o.a.createElement(La.a,{position:"start"},o.a.createElement(sn.a,{style:{color:"#008080"}}))})))," "))),o.a.createElement(Et.a,{className:"elevationPaper1"},o.a.createElement(At.a,{className:"tableContainer"},o.a.createElement(Ct.a,{"aria-labelledby":"tableTitle",size:"small","aria-label":"enhanced table"},o.a.createElement(jn,{classes:t,order:l,orderBy:f,onRequestSort:function(e,t){s(f===t&&"asc"===l?"desc":"asc"),h(t)},rowCount:z.length}),o.a.createElement(Tt.a,{className:"tableBody"},function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(se,function(e,t){return"desc"===e?function(e,a){return yn(e,a,t)}:function(e,a){return-yn(e,a,t)}}(l,f)).slice(j*V,j*V+V).map((function(e,a){var n="enhanced-table-checkbox-".concat(a),r=e.name.substring(0,1).toUpperCase();return o.a.createElement(wn,{key:e.name,row:e,classes:t,labelId:n,res:r,towns:Z,handleUpdatedTown:pe,handleDelete:ue})})))))),o.a.createElement(Ca.a,{style:{},rowsPerPageOptions:[10,15,30],component:"div",count:z.length,rowsPerPage:V,page:j,onChangePage:function(e,t){O(t)},onChangeRowsPerPage:function(e){Y(parseInt(e.target.value,10)),O(0)}}))," "),o.a.createElement(S.a,{key:z.length,className:t.backdrop,open:$},o.a.createElement(w.ImpulseSpinner,{size:90,color:"#008081",loading:$})))}var kn=a(230),Nn=a(250),Rn=a.n(Nn),Cn=a(249),Tn=a.n(Cn),Dn=Object(O.a)((function(e){return{large:{fontSize:"10rem",width:"12rem",height:"12rem"},input:{display:"none"}}})),An=Object(da.a)((function(e){return{root:{background:"white",width:22,height:22,border:"2px solid ".concat(e.palette.background.paper)}}}))(Va.a);function In(e){var t=e.userName,a=e.role,r=e.uploadImage,l=e.image,s=e.removeImage,c=Dn(),i=Object(n.useState)(l),u=Object(g.a)(i,2),m=u[0],d=u[1],p=o.a.useState(null),f=Object(g.a)(p,2),b=f[0],h=f[1],v=Boolean(b),E=function(){h(null)};return Object(n.useEffect)((function(){console.log("imagecomponent",m)})),o.a.createElement("div",null,o.a.createElement("input",{accept:"image/*",className:c.input,id:"icon-button-file",type:"file",onChange:function(e){r(e.target.files[0]),d(URL.createObjectURL(e.target.files[0]))}}),o.a.createElement(vt.a,{container:!0},o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:12},o.a.createElement(Ne.a,{alignItems:"center",justifyContent:"flex-start",display:"flex",flexDirection:"column",textAlign:"center",paddingTop:2,paddingBottom:2},o.a.createElement(be.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},style:{color:"grey"},badgeContent:o.a.createElement("div",null,o.a.createElement(ie.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(e){h(e.currentTarget)}},o.a.createElement(An,{src:Tn.a})," "),o.a.createElement(kn.a,{id:"long-menu",anchorEl:b,keepMounted:!0,open:v,onClose:E,PaperProps:{style:{maxHeight:216,width:"20ch"}}},o.a.createElement(Y.a,{key:"upload",onClick:E},o.a.createElement(Rn.a,null),o.a.createElement("label",{style:{color:"black",fontSize:15,textAlign:"center"},htmlFor:"icon-button-file"},o.a.createElement(Ne.a,{component:"span"},"Upload"))),o.a.createElement(Y.a,{disabled:null==m,style:{color:"black",fontSize:15},key:"remove",onClick:function(){s(),d(null),E()}},o.a.createElement(fn.a,null)," ",o.a.createElement(Ne.a,null,"Remove"))))},o.a.createElement(Va.a,{style:{color:"white",background:"teal"},className:c.large,src:m})),o.a.createElement(Ne.a,null,o.a.createElement(Ne.a,{fontWeight:"600",color:"black"},t),o.a.createElement(Ne.a,{color:"black"},a))))))}function Mn(e){var t=a(19),r=Object(n.useState)(t.get("userData")),l=Object(g.a)(r,2),s=(l[0],l[1]),c=Object(n.useState)({}),i=Object(g.a)(c,2),u=i[0],m=i[1],d=function(){b.a.get("https://m2r31169.herokuapp.com/api/statstics",{headers:{"x-access-token":e.token}}).then((function(e){console.log("statistics"+e.data),m(e.data.statistics)})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?(t.remove("userData"),t.clearAll(),s({}),window.location="/"):503!==e.response.status&&500!==e.response.status||console.log(e.response.status)),console.log("Error in statistics"+e)}))};return Object(n.useEffect)((function(){d()}),[]),o.a.createElement(Ne.a,null,o.a.createElement(Ne.a,{margin:1,style:{textAlign:"center"},fontWeight:"500"},"Statistics"),o.a.createElement(Ne.a,{display:"flex"},o.a.createElement(Ne.a,{className:"list",display:"flex"},o.a.createElement(Fe.a,{style:{float:"left",background:"linear-gradient(60deg, #66bb6a, #43a047)",borderRadius:"5px",color:"white",width:window.innerWidth<1400?"20px":"30px",height:window.innerWidth<1400?"20px":"30px",padding:"10px",boxShadow:"0 4px 20px 0 rgba(0, 0, 0,.14), 0 7px 10px -5px rgba(156, 39, 176,.4)"}}),o.a.createElement(Pn,{title:"Resolved",name:u.Resolved})),o.a.createElement(Ne.a,{className:"list",display:"flex"},o.a.createElement(Ue.a,{style:{float:"left",background:"linear-gradient(60deg, #ab47bc, #8e24aa)",borderRadius:"5px",color:"white",width:window.innerWidth<1400?"20px":"30px",height:window.innerWidth<1400?"20px":"30px",padding:"10px",boxShadow:"0 4px 20px 0 rgba(0, 0, 0,.14), 0 7px 10px -5px rgba(156, 39, 176,.4)"}}),"ADMIN"==e.role?o.a.createElement(Pn,{title:"Assigned",name:u.Assigned}):o.a.createElement(Pn,{title:"Active",name:u.Active})),o.a.createElement(Ne.a,{className:"list",display:"flex"},o.a.createElement(Ne.a,null,o.a.createElement(He.a,{style:{float:"left",background:"linear-gradient(60deg, #ffa726, #fb8c00)",borderRadius:"5px",color:"white",width:window.innerWidth<1400?"20px":"30px",height:window.innerWidth<1400?"20px":"30px",padding:"10px",boxShadow:"0 4px 20px 0 rgba(0, 0, 0,.14), 0 7px 10px -5px rgba(255, 152, 0,.4)"}})),o.a.createElement(Pn,{title:"Rejected",name:u.Rejected}))))}function Pn(e){return o.a.createElement(Ne.a,{style:{marginLeft:"1rem"}},o.a.createElement(Ne.a,{fontWeight:"500",fontSize:window.innerWidth>1400?"2rem":"1.5rem",color:"grey"},e.name),o.a.createElement(Ne.a,{fontSize:"0.7rem",color:"black"},e.title))}var Wn=a(478),zn=Object(O.a)((function(e){return{root:{width:"99%",maxWidth:"50ch",backgroundColor:"theme.palette.background.paper"},inline:{display:"inline"}}}));function Fn(e){var t=e.data,a=zn(),r=Object(n.useState)([]),l=Object(g.a)(r,2),s=l[0],c=l[1],i=Object(n.useState)([]),u=Object(g.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)([]),f=Object(g.a)(p,2),b=f[0],h=f[1];return Object(n.useEffect)((function(){console.log("notif",t);var e=t.filter((function(e){return nt()(e.timeAndDate).isSame(new Date,"week")}));console.log("notif",e),d(e);var a=Object(ot.a)(new Set(e.map((function(e){return e.statusType}))));c(a);var n=Object(ot.a)(new Set(e.map((function(e){return e.ComplaintType}))));h(n)}),[t]),o.a.createElement(_a.a,{className:a.root},o.a.createElement(Wn.a,{style:{textAlign:"center",color:"black"}},"Weekly Alerts"),o.a.createElement(Nt.Scrollbars,{style:{minHeight:"300px"}},0!=s.length?b.map((function(e){return s.map((function(t){return o.a.createElement(Ln,{notification:t,type:e,number:m.filter((function(a){return a.statusType===t&&a.ComplaintType===e})).length,color:(a=t,"Resolved"==a||"Verified"==a?"#008081":"Active"==a||"Assigned"==a?"rgb(142, 36, 170)":"Rejected"==a?"#FFB400":"#FF0000")});var a}))})):o.a.createElement(Ne.a,{textAlign:"center"}," ",o.a.createElement("br",null)," ",o.a.createElement("br",null),"No new alerts")))}function Ln(e){var t=e.color,a=e.notification,n=e.number,r=e.type,l=zn();return n>0&&o.a.createElement(B.b,{to:{pathname:"/dashboard/complaints",statusFilter:"Unresolved"==a?null:"Verified"==a?"Resolved":a,typeFilter:r}},o.a.createElement($a.a,{alignItems:"flex-start",className:"alertList",style:{background:Object(wt.e)(t,.8),color:t}},o.a.createElement(en.a,{primary:o.a.createElement(o.a.Fragment,null,o.a.createElement(Ne.a,{component:"span",fontSize:"0.9rem",className:l.inline,color:"textPrimary"},"Assigned"==a?"New Complaint Assigned":a),o.a.createElement(Ne.a,{component:"span",fontSize:"0.6rem",className:l.inline,color:"gray",style:{float:"right"}})),secondary:o.a.createElement(Ne.a,{component:"span",fontSize:"0.8rem",className:l.inline,color:"textPrimary"},"Assigned"!=a?n+" new Complaint"+(1==n?"":"s")+" of "+r+" have been "+a+" this week. "+("Resolved"==a?"Click here to verify complaint . ":"Rejected"==a?"Click here to view reason of rejection . ":""):"You have been assigned "+n+" new compaint"+(1==n?"":"s")+" of "+r)})))}var Un=a(120),Vn=a.n(Un);Object(O.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:500}}}));function Yn(e){var t=e.dialogClose,r=e.open,l=a(19),s=Object(n.useState)(l.get("userData")),c=Object(g.a)(s,2),i=c[0],u=c[1],m=Object(n.useState)(""),d=Object(g.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)(!1),v=Object(g.a)(h,2),E=v[0],y=v[1],x=Object(n.useState)(""),O=Object(g.a)(x,2),w=O[0],S=O[1],k=o.a.useState(""),N=Object(g.a)(k,2),R=N[0],C=N[1],T=o.a.useState({}),D=Object(g.a)(T,2),A=(D[0],D[1],o.a.useState("Your geolocation will be shown here")),I=Object(g.a)(A,2),M=(I[0],I[1],Object(n.useState)(!1)),P=Object(g.a)(M,2),W=P[0],z=P[1],F=function(){f(""),y(!0),b.a.post("https://m2r31169.herokuapp.com/api/changePassword",{oldPassword:w,newPassword:R},{headers:{"x-access-token":i.accessToken}}).then((function(e){console.log("password updated"+e.data),t()})).catch((function(e){y(!1),e.response&&(401===e.response.status||403===e.response.status?(l.remove("userData"),l.clearAll(),u({}),window.location="/"):503===e.response.status||500===e.response.status?(console.log(e.response.status),alert("Something went wrong. Please try again later")):400===e.response.status&&(f("Incorrect existing password"),console.log("error"+e)))}))};return o.a.createElement(Rt.a,{fullWidth:!0,open:r,onClose:t,maxWidth:"sm","aria-labelledby":"form-dialog-title"},o.a.createElement(ma.a,{id:"form-dialog-title"},o.a.createElement(Ne.a,{component:"div",fontSize:"1.2rem",color:"black",style:{textAlign:"center",fontWeight:"500"}},"Change Password")),o.a.createElement(Ya.a,null,o.a.createElement(vt.a,{container:!0,justify:"space-around"},o.a.createElement(j.a,{id:"input-with-icon-textfield",label:"Existing Password",type:"password",onChange:function(e){S(e.target.value)},InputProps:{startAdornment:o.a.createElement(La.a,{position:"start"},o.a.createElement(Vn.a,null))}}),o.a.createElement(j.a,{id:"input-with-icon-textfield",label:"New Password",type:W?"text":"password",onChange:function(e){C(e.target.value)},InputProps:{startAdornment:o.a.createElement(La.a,{position:"start"},o.a.createElement(Vn.a,null)),endAdornment:o.a.createElement(La.a,{position:"end"},o.a.createElement(ie.a,{"aria-label":"toggle password visibility",onClick:function(){z(!W)},onMouseDown:function(e){e.preventDefault()},edge:"end"},W?o.a.createElement(Ha.a,null):o.a.createElement(Xa.a,null)))}})),o.a.createElement(Ne.a,{component:"div",fontSize:"1rem",color:"red",style:{textAlign:"center",fontWeight:"400"}},p)),o.a.createElement(qt.a,null,o.a.createElement(Xt.a,{onClick:t,color:"primary"},"Cancel"),o.a.createElement(Xt.a,{style:{display:E?"none":"block"},onClick:function(){F(),console.log("yahan")}},"Done"),o.a.createElement(ra.a,{style:{display:E?"block":"none",color:"teal"}})))}a(390);var Bn=a(251),Hn=a.n(Bn),qn=a(252),Xn=a.n(qn),Gn=a(253),Jn=a.n(Gn),Zn=a(19);var Kn=function(e){var t=e.notification,a=o.a.useState(!1),r=Object(g.a)(a,2),l=r[0],s=r[1],c=o.a.useState(""),i=Object(g.a)(c,2),u=i[0],m=i[1],f=o.a.useState(""),h=Object(g.a)(f,2),v=h[0],E=h[1],y=o.a.useState(""),x=Object(g.a)(y,2),O=x[0],w=x[1],S=Object(n.useState)(Zn.get("userData")),k=Object(g.a)(S,2),N=k[0],R=k[1],C=Object(n.useState)(""),T=Object(g.a)(C,2),D=T[0],A=T[1],I=Object(n.useState)(null),M=Object(g.a)(I,2),P=M[0],W=M[1],z=Object(n.useState)(!1),F=Object(g.a)(z,2),L=F[0],U=F[1],V=Object(n.useState)(!1),Y=Object(g.a)(V,2),B=Y[0],H=Y[1],q=Object(n.useState)(!1),X=Object(g.a)(q,2),G=X[0],J=X[1],Z=function(){Zn.remove("userData"),Zn.clearAll(),R({}),window.location="/"},K=function(){b.a.post("http://m2r31169.herokuapp.com/api/removeProfilePicture",{},{headers:{"x-access-token":N.accessToken}}).then((function(e){W(null),H(!1),J(!1),Zn.set("userData",Object(p.a)(Object(p.a)({},N),{},{userData:Object(p.a)(Object(p.a)({},N.userData),{},{image:null})})),console.log("post hogayi"+e.data)})).catch((function(e){e.response&&(401!==e.response.status&&403!==e.response.status||Z(),503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later"))),J(!1),console.log("error agaya"+e)}))},Q=function(){console.log("inside photo upload");var e=new FormData;e.append("profilePicture",P);var t={headers:{"content-type":"multipart/form-data","x-access-token":N.accessToken}};b.a.post("https://m2r31169.herokuapp.com/api/admin/uploadProfilePicture",e,t).then((function(e){console.log("done photo upload"),W(e.data),J(!1),U(!1),Zn.set("userData",Object(p.a)(Object(p.a)({},N),{},{userData:Object(p.a)(Object(p.a)({},N.userData),{},{image:e.data})}))})).catch((function(e){U(!1),J(!1),D.response&&(401!==e.response.status&&403!==e.response.status||Z(),400==D.response.status&&alert("Please choose a valid image  ")),503===e.response.status||500===e.response.status?(console.log(e.response.status),alert("Something went wrong. Please try again later")):console.log(e)}))},_=function(e,t,a){console.log("update"+e),b.a.post("https://m2r31169.herokuapp.com/api/update"+a,Object(d.a)({},t,e),{headers:{"x-access-token":N.accessToken}}).then((function(a){console.log("profile updated"+a.data),J(!1),Zn.set("userData",Object(p.a)(Object(p.a)({},N),{},{userData:Object(p.a)(Object(p.a)({},N.userData),{},Object(d.a)({},t,e))})),R(Zn.get("userData"))})).catch((function(e){e.response&&(401!==e.response.status&&403!==e.response.status||Z(),503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later"))),J(!1),console.log("error "+D)}))};return Object(n.useEffect)((function(){console.log("imageee notif",G,t,e.history),Object.keys(N).length>0&&(m(N.userData.name),E(N.userData.email),w(N.userData.phoneNumber),W(N.userData.image))}),[N,t]),o.a.createElement("div",null,o.a.createElement(vt.a,{container:!0},o.a.createElement(vt.a,{container:!0,xs:12,sm:12,md:8,lg:8,item:!0,alignItems:"center",display:"flex",className:"mainSetting"},o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:12,lg:12},o.a.createElement(Ne.a,{component:"div",fontSize:"1.5rem",color:"black",style:{textAlign:"center",fontWeight:"500"}},"Account Settings")),o.a.createElement(vt.a,{item:!0,xs:12,sm:12,md:12,lg:12},o.a.createElement(In,{uploadImage:function(e){U(!0),H(!1),W(e)},removeImage:function(){H(!0),U(!1)},userName:Object.keys(N).length>0&&N.userData.username,role:Object.keys(N).length>0&&("ADMIN"==N.Role?"Administrator":"Supervisor"),image:Object.keys(N).length>0&&(null==N.userData.image?null:N.userData.image)})),o.a.createElement(vt.a,{container:!0,xs:12,sm:12,md:12,lg:12,item:!0,justify:window.innerWidth<500?"flex-start":"space-around",style:{paddingTop:"2rem"}},o.a.createElement(Ne.a,{className:"elevation",style:{margin:"10px"}},o.a.createElement(j.a,{id:"input-with-icon-textfield",label:"Full Name",value:u,onChange:function(e){m(e.target.value)},InputProps:{className:"settingInput",startAdornment:o.a.createElement(La.a,{position:"start"},o.a.createElement(Hn.a,null))}})),o.a.createElement(Ne.a,{className:"elevation",style:{margin:"10px"}},o.a.createElement(j.a,{className:"settingInput",id:"input-with-icon-textfield",type:"email",label:"Email Address",value:v,onChange:function(e){E(e.target.value)},InputProps:{className:"settingInput",startAdornment:o.a.createElement(La.a,{position:"start"},o.a.createElement(Xn.a,null))}})),o.a.createElement(Ne.a,{className:"elevation",style:{margin:"10px"}},o.a.createElement(j.a,{id:"input-with-icon-textfield",label:"Phone Number",inputProps:{maxLength:10},value:O.slice(-10),onChange:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&w(e.target.value)},InputProps:{className:"settingInput",startAdornment:o.a.createElement(La.a,{position:"start"},o.a.createElement(Jn.a,null),"+92")}})),o.a.createElement(Ne.a,{className:"elevation",style:{margin:"10px"}},o.a.createElement(rt.a,null,o.a.createElement(st.a,{htmlFor:"standard-adornment-password"},"Password"),o.a.createElement(ut.a,{id:"standard-adornment-password",type:"password",value:"sdds",readOnly:!0,className:"settingInput",startAdornment:o.a.createElement(La.a,{position:"start"},o.a.createElement(Vn.a,null)),endAdornment:o.a.createElement(La.a,{position:"end"},o.a.createElement(Xt.a,{"aria-label":"toggle password visibility",onClick:function(){return console.log(N.userData.image),void s(!0)}},"Change"))})))),o.a.createElement(Yn,{open:l,dialogClose:function(){s(!1)},userData:N}),o.a.createElement(vt.a,{container:!0,xs:12,sm:12,md:12,lg:12,item:!0,style:{paddingTop:"1rem"},justify:"center"},o.a.createElement(Ne.a,{component:"div",style:{color:"red",fontWeight:"500"}},D)),o.a.createElement(vt.a,{container:!0,item:!0,justify:"center",xs:12,sm:12,md:12,lg:12},o.a.createElement(Xt.a,{variant:"contained",style:{minWidth:200,background:"linear-gradient(45deg, #008080 30%, #20B2AA 90%)",border:0,color:"white",padding:10,justifyContent:"center",textDecoration:"none",display:G?"none":"block"},onClick:function(){O.length<10?A("Phone number is not valid"):!function(e){return/\S+@\S+\.\S+/.test(e)}(v)?A("Email is not valid"):(w("+92"+O),J(!0),console.log(O,u,v),B&&K(),L&&Q(),u!=N.userData.name&&_(u,"name","Name"),v!=N.userData.email&&_(v,"email","Email"),"+92"+O!=N.userData.phoneNumber&&_("+92"+O,"phoneNumber","phoneNumber"),A(""))}},"Save"),o.a.createElement(ra.a,{style:{display:G?"block":"none",color:"teal"}}))),window.innerWidth>500&&o.a.createElement(vt.a,{container:!0,item:!0,xs:12,sm:12,md:4,lg:4},o.a.createElement(vt.a,{item:!0,xs:12,sm:6,md:12,lg:12},o.a.createElement(Fn,{data:t,key:t.length})),o.a.createElement(vt.a,{item:!0,xs:12,sm:6,md:12,lg:12},o.a.createElement(Mn,{token:N.accessToken,role:N.Role})))))},Qn=(a(391),a(480)),_n=a(479),$n=(a(19),Object(O.a)({root:{maxWidth:350,minWidth:window.innerwidth>400?260:210,margin:10,position:"relative"},media:{height:window.innerwidth>400?270:220},input:{display:"none"},overlay:{position:"absolute",top:"20px",left:"20px",color:"black",backgroundColor:"white"}}));function eo(e){var t=e.name,r=e.image,l=e.enable,s=e.id,c=e.token,i=e.done,u=e.edit,m=e.allowEdit,d=e.doneEnable,p=$n(),f=a(19),h=Object(n.useState)(f.get("userData")),v=Object(g.a)(h,2),E=(v[0],v[1]),y=Object(n.useState)(!1),O=Object(g.a)(y,2),w=O[0],S=O[1],k=Object(n.useState)(!1),N=Object(g.a)(k,2),R=N[0],C=N[1],T=Object(n.useState)(null),D=Object(g.a)(T,2),A=D[0],I=D[1],M=Object(n.useState)(t),P=Object(g.a)(M,2),W=P[0],z=P[1],F=Object(n.useState)(0),L=Object(g.a)(F,2),U=L[0],V=L[1],Y=Object(n.useState)(r),B=Object(g.a)(Y,2),H=B[0],q=B[1];Object(n.useEffect)((function(){S(!!m)}),[m]);var X=function(){f.remove("userData"),f.clearAll(),E({}),window.location="/"},G=function(){""===W&&z(t),(W!=t||R)&&function(){console.log("inside photo upload");var e=new FormData;e.set("id",s),e.set("type",W),e.append("image",A);var t={headers:{"content-type":"multipart/form-data","x-access-token":c}};b.a.post("https://m2r31169.herokuapp.com/api/editComplaintTypeAndImage",e,t).then((function(e){console.log("done photo upload"),C(!1),i()})).catch((function(e){C(!1),e.response&&(401===e.response.status||403===e.response.status?X():503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later"))),e.response?400==e.response.status&&alert("Please choose a valid image  "):console.log(e)}))}()};return o.a.createElement(x.a,{className:p.root},o.a.createElement($t.a,null,o.a.createElement(ea.a,{className:p.media,image:H,title:W}),o.a.createElement("input",{disabled:!w,accept:"image/*",className:p.input,id:"icon-button-file"+s,type:"file",onChange:function(e){C(!0),I(e.target.files[0]),q(URL.createObjectURL(e.target.files[0]))}}),o.a.createElement("label",{htmlFor:"icon-button-file"+s},o.a.createElement("div",{className:"overlay",style:{opacity:U}},o.a.createElement(aa.a,{style:{top:"40%",left:"40%",position:"relative",fontSize:"50px"}}))),o.a.createElement(_n.a,null,w?o.a.createElement(j.a,{required:!0,id:"standard-required",value:W,onChange:function(e){z(e.target.value)}}):o.a.createElement(Ne.a,{fontWeight:"700",component:"span",fontSize:"1.2rem",color:"black"},W))),o.a.createElement(Qn.a,null,o.a.createElement(Xt.a,{size:"small",color:"primary",onClick:function(){u(s),w&&G(),S(!w),V(0==U?1:0)}},w?"Save":"Edit")," ",o.a.createElement(Xt.a,{size:"small",onClick:function(){return function(e){b.a.post("http://m2r31169.herokuapp.com/api/enableDisableComplaintType",{id:e},{headers:{"x-access-token":c}}).then((function(e){console.log("post hogayi"+e.data),d()})).catch((function(e){console.log("error agaya"+e),e.response&&(401===e.response.status||403===e.response.status?X():503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later")))}))}(s)},style:{color:l?"teal":"grey"}},l?"Disable":"Enable")))}var to=Object(O.a)({root:{maxWidth:350,minWidth:window.innerwidth>400?260:210,margin:10,position:"relative"},media:{height:window.innerwidth>400?270:220},input:{display:"none"},overlay:{position:"absolute",top:"20px",left:"20px",color:"black",backgroundColor:"white"}});function ao(e){var t=e.token,r=e.done,l=to(),s=a(19),c=Object(n.useState)(s.get("userData")),i=Object(g.a)(c,2),u=(i[0],i[1]),m=Object(n.useState)(null),d=Object(g.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)(null),v=Object(g.a)(h,2),E=v[0],y=v[1],O=Object(n.useState)(""),w=Object(g.a)(O,2),S=w[0],k=w[1],N=Object(n.useState)(""),R=Object(g.a)(N,2),C=R[0],T=R[1],D=function(){console.log("inside photo upload");var e=new FormData;e.set("type",S),e.append("image",E);var a={headers:{"content-type":"multipart/form-data","x-access-token":t}};b.a.post("https://m2r31169.herokuapp.com/api/addComplaintTypes",e,a).then((function(t){console.log("done photo upload"),console.log("wwww fordata",JSON.stringify(e)),r()})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?(s.remove("userData"),s.clearAll(),u({}),window.location="/"):503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later"))),e.response?(406==e.response.status&&alert("The type is already added  "),400==e.response.status&&alert("Please choose a valid image  ")):console.log(e)}))};return Object(n.useEffect)((function(){f(null),k("")}),[]),o.a.createElement(x.a,{className:l.root},o.a.createElement($t.a,null,o.a.createElement(ea.a,{className:l.media,title:S,image:p}),o.a.createElement("input",{accept:"image/*",className:l.input,id:"icon-button-filenew",type:"file",onChange:function(e){console.log("changing"),y(e.target.files[0]),f(URL.createObjectURL(e.target.files[0]))}}),o.a.createElement("label",{htmlFor:"icon-button-filenew"},o.a.createElement("div",{className:"overlay",style:{opacity:1}},o.a.createElement(aa.a,{style:{top:"40%",left:"40%",position:"relative",fontSize:"50px",color:"teal"}}))),o.a.createElement(_n.a,{style:{paddingTop:"20px"}},o.a.createElement(j.a,{id:"standard-basic",label:"Type Name",value:S,onChange:function(e){k(e.target.value)}}),o.a.createElement(Ne.a,{style:{color:"red"}},C))),o.a.createElement(Qn.a,{style:{justifyContent:"center"}},o.a.createElement(Xt.a,{variant:"contained",style:{Width:"100%",background:"teal",border:0,color:"white",textDecoration:"none"},onClick:function(){""==S?T("Add a valid type name"):null==p?T("Select an image"):D()}},"Add Complaint Type")))}function no(e){var t=e.token,r=e.loading,l=a(19),s=Object(n.useState)(l.get("userData")),c=Object(g.a)(s,2),i=(c[0],c[1]),u=Object(n.useState)([]),m=Object(g.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(null),h=Object(g.a)(f,2),v=h[0],E=h[1],y=function(){r(!0);var a=[];b.a.get("https://m2r31169.herokuapp.com/api/dashboard/getComplaintTypeAndImage",{headers:{"x-access-token":t}}).then((function(e){for(var t in r(!1),console.log(e.data),e.data)a.push(e.data);console.log("Typesssss"+JSON.stringify(a[0])),p(a[0])})).catch((function(t){r(!1),t.response&&(401===t.response.status||403===t.response.status?(l.remove("userData"),l.clearAll(),i({}),window.location="/"):503!==t.response.status&&500!==t.response.status||(console.log(t.response.status),e.handleError(t.response.status))),console.log(t)}))};return Object(n.useEffect)((function(){y()}),[]),o.a.createElement(Ne.a,{display:"flex",flexWrap:"wrap",alignContent:"flex-start"},d.map((function(e){return o.a.createElement(eo,{id:e.id,name:e.typeName,image:e.image,enable:e.isEnable,token:t,edit:function(e){E(e)},allowEdit:v==e.id,doneEnable:function(){y()},done:function(){y(),E(null)}})})),o.a.createElement(ao,{key:d,token:t,done:function(){return y()}}))}var oo=a(481),ro=a(160),lo=a.n(ro),so=Object(O.a)((function(e){return{root:{flexGrow:1,maxWidth:752},list:{},listItem:{background:"white",marginTop:15},backdrop:{zIndex:1e3,color:"#fff"}}}));function co(e){var t=e.token,r=e.loading,l=a(19),s=Object(n.useState)(l.get("userData")),c=Object(g.a)(s,2),i=(c[0],c[1]),u=so(),m=Object(n.useState)([]),d=Object(g.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)(""),v=Object(g.a)(h,2),E=v[0],y=v[1],x=function(){l.remove("userData"),l.clearAll(),i({}),window.location="/"},O=function(){console.log("iteemmmmmmmmmmmmm"+E),p.includes(E)?(alert("The reason is already been added"),y("")):b.a.post("http://m2r31169.herokuapp.com/api/addReasonForRejection",{reason:E},{headers:{"x-access-token":t}}).then((function(e){console.log("post hogayi"+e.data),y(""),w()})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?x():503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later"))),console.log("error agaya"+e)}))},w=function(){r(!0);var t=[];b.a.get("https://m2r31169.herokuapp.com/api/getRejectTags").then((function(e){for(var a in console.log("agyaa"+e.data),e.data.Reasons)t.push(e.data.Reasons[a]);console.log("Reasonssssss"+t.toString()),f(t),r(!1)})).catch((function(t){r(!1),t.response&&(401===t.response.status||403===t.response.status?x():503!==t.response.status&&500!==t.response.status||(console.log(t.response.status),e.handleError(t.response.status))),console.log("error agaya"+t)}))};return Object(n.useEffect)((function(){w()}),[]),o.a.createElement("div",null,o.a.createElement(_a.a,{className:u.list},p.map((function(e){return o.a.createElement($a.a,{className:u.listItem},o.a.createElement(en.a,{primary:e}),o.a.createElement(oo.a,null,o.a.createElement(Xt.a,{color:"primary",onClick:function(){return function(e){console.log("iteemmmmmmmmmmmmm"+e),b.a.post("http://m2r31169.herokuapp.com/api/deleteReasonForRejection",{reason:e},{headers:{"x-access-token":t}}).then((function(e){console.log("post hogayi"+e.data),w()})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?x():503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later"))),console.log("error agaya"+e)}))}(e)}},window.innerWidth>500?" Delete":o.a.createElement(fn.a,null))))})),o.a.createElement($a.a,null,o.a.createElement(j.a,{variant:"outlined",placeholder:"Enter new reason",id:"standard-required",value:E,style:{width:window.innerWidth>500?"70%":"100"},onChange:function(e){y(e.target.value)}}),o.a.createElement(oo.a,null,window.innerWidth>500?o.a.createElement(Xt.a,{variant:"contained",style:{background:"teal",border:0,color:"white",textDecoration:"none"},onClick:function(){O()}},"Add Reason"," "):o.a.createElement(lo.a,{style:{color:"#008080",fontSize:"40px",padding:0,border:0},onClick:function(){O()}})))))}function io(e){var t=e.token,r=e.item,l=e.save,s=a(19),c=Object(n.useState)(s.get("userData")),i=Object(g.a)(c,2),u=(i[0],i[1]),m=function(e){e.target.checked?p(e.target.name,e.target.checked):f(e.target.name,e.target.checked)},d=function(){s.remove("userData"),s.clearAll(),u({}),window.location="/"},p=function(e,a){console.log("iteemmmmmmmmmmmmm"+e,a),b.a.post("http://m2r31169.herokuapp.com/api/addTagToStar",{tagId:r.id,starId:e},{headers:{"x-access-token":t}}).then((function(e){console.log("post hogayi"+e.data),l()})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?d():503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later"))),console.log("error agaya"+e)}))},f=function(e,a){console.log("iteemmmmmmmmmmmmm"+e,a),b.a.post("http://m2r31169.herokuapp.com/api/deleteTagOfStar",{tagId:r.id,starId:e},{headers:{"x-access-token":t}}).then((function(e){console.log("post hogayi"+e.data),l()})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?d():503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later"))),console.log("error agaya"+e)}))};return o.a.createElement("div",null,["1","2","3","4","5"].map((function(e){return o.a.createElement(ga.a,{control:o.a.createElement(pa.a,{checked:r.Stars.includes(e),onChange:m,name:e}),label:e})})))}var uo=Object(O.a)((function(e){return{root:{flexGrow:1,maxWidth:752,Width:window.innerWidth},chip:{margin:e.spacing(.5)}}}));function mo(e){var t=e.token,r=e.loading,l=uo(),s=a(19),c=Object(n.useState)(s.get("userData")),i=Object(g.a)(c,2),u=(i[0],i[1]),m=Object(n.useState)([]),d=Object(g.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)(""),v=Object(g.a)(h,2),E=v[0],y=v[1],x=function(){s.remove("userData"),s.clearAll(),u({}),window.location="/"},O=function(){console.log("iteemmmmmmmmmmmmm"+E,p.includes(E)),p.some((function(e){return e.tags===E}))?(alert("The tag is already been added"),y("")):b.a.post("http://m2r31169.herokuapp.com/api/addFeedbackTag",{tag:E},{headers:{"x-access-token":t}}).then((function(e){console.log("post hogayi"+e.data),w(),y("")})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?x():503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later"))),console.log("error agaya"+e)}))},w=function(){r(!0);var a=[];b.a.get("https://m2r31169.herokuapp.com/api/feedbackAssociatedStars",{headers:{"x-access-token":t}}).then((function(e){for(var t in r(!1),console.log("agyaa"+JSON.stringify(e.data)),e.data)a.push(e.data[t]);console.log("Reasonssssss"+a.toString()),f(a)})).catch((function(t){r(!1),t.response&&(401===t.response.status||403===t.response.status?x():503!==t.response.status&&500!==t.response.status||(console.log(t.response.status),e.handleError(t.response.status))),console.log("error agaya"+t)}))};return Object(n.useEffect)((function(){w()}),[]),o.a.createElement("div",null,o.a.createElement(Ct.a,{className:l.table,"aria-label":"simple table"},o.a.createElement(It.a,null,o.a.createElement(Mt.a,{className:"tableRow"},o.a.createElement(Dt.a,{align:"center"},"Tag"),o.a.createElement(Dt.a,{align:"center"},"Ratings"),o.a.createElement(Dt.a,{align:"center"}))),o.a.createElement(Tt.a,{className:"tableBody"},p.map((function(e){return console.log("ag",e),o.a.createElement(Mt.a,{className:"tableRow"},o.a.createElement(Dt.a,{align:"center"},e.tags),o.a.createElement(Dt.a,{align:"center"},o.a.createElement(io,{token:t,item:e,save:function(){return w()}})),o.a.createElement(Dt.a,{align:"right"},o.a.createElement(Xt.a,{color:"primary",onClick:function(){var a;a=e.id,console.log("iteemmmmmmmmmmmmm"+a),b.a.post("http://m2r31169.herokuapp.com/api/deleteFeedbackTag",{tagId:a},{headers:{"x-access-token":t}}).then((function(e){console.log("post hogayi"+e.data),w()})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?x():503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),alert("Something went wrong. Please try again later"))),console.log("error agaya"+e)}))}},window.innerWidth>500?" Delete":o.a.createElement(fn.a,null))))})))),o.a.createElement(_a.a,null,o.a.createElement($a.a,null,o.a.createElement(j.a,{variant:"outlined",placeholder:"Enter new Tag",id:"standard-required",value:E,style:{width:window.innerWidth>500?"70%":"100"},onChange:function(e){y(e.target.value)}}),o.a.createElement(oo.a,null,window.innerWidth>500?o.a.createElement(Xt.a,{variant:"contained",style:{background:"teal",border:0,color:"white",textDecoration:"none"},onClick:function(){O()}},"Add Tag"," "):o.a.createElement(lo.a,{style:{color:"#008080",fontSize:"40px",padding:0,border:0},onClick:function(){O()}})))))}var po=a(19);function go(e){var t=e.children,a=e.value,n=e.index,r=Object(bt.a)(e,["children","value","index"]);return o.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},r),a===n&&o.a.createElement(Ne.a,{p:3},o.a.createElement(Ht.a,null,t)))}function fo(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var bo=Object(O.a)((function(e){return{root:{flexGrow:1,backgroundColor:"transparent"},backdrop:{zIndex:1e5,color:"#fff"}}}));function ho(e){var t=bo(),a=Object(it.a)(),r=Object(n.useState)(po.get("userData")),l=Object(g.a)(r,2),s=l[0],c=(l[1],o.a.useState(0)),i=Object(g.a)(c,2),u=i[0],m=i[1],d=Object(n.useState)(!0),p=Object(g.a)(d,2),f=p[0],b=p[1],h=function(e){b(e)};return o.a.createElement("div",{className:t.root},o.a.createElement(Vt.a,{position:"sticky",color:"default"},o.a.createElement(Yt.a,{value:u,onChange:function(e,t){m(t)},indicatorColor:"primary",textColor:"primary",scrollButtons:"auto",variant:"scrollable","aria-label":"full width tabs example"},o.a.createElement(Bt.a,Object.assign({wrapped:!0,label:"Complaint Types"},fo(0))),o.a.createElement(Bt.a,Object.assign({wrapped:!0,label:"Feedback Tags"},fo(1))),o.a.createElement(Bt.a,Object.assign({wrapped:!0,label:"Reasons for Rejection"},fo(2))))),o.a.createElement(Ut.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:u,onChangeIndex:function(e){m(e)}},o.a.createElement(go,{className:"myclass",value:u,index:0,dir:a.direction},o.a.createElement(no,{handleError:e.handleError,token:s.accessToken,loading:h})),o.a.createElement(go,{className:"myclass",value:u,index:1,dir:a.direction},o.a.createElement(mo,{token:s.accessToken,handleError:e.handleError,loading:h})),o.a.createElement(go,{className:"myclass",value:u,index:2,dir:a.direction}," ",o.a.createElement(co,{token:s.accessToken,handleError:e.handleError,loading:h}))),o.a.createElement(S.a,{className:t.backdrop,open:f},o.a.createElement(w.ImpulseSpinner,{size:90,color:"#008081",loading:f})))}var vo=a(161),Eo=a.n(vo);a(393),a(394);var yo=o.a.memo((function(e){return Object(n.useEffect)((function(){vo.store.addNotification({title:e.value.data.title,message:e.value.data.message,type:"success",insert:"top",container:"top-right",animationIn:["animated","slideInRight"],animationOut:["animated","slideOutRight"],dismiss:{duration:6e3,showIcon:!0}}),console.log("new notif is here notif",e)}),[e]),o.a.createElement(Eo.a,null)}));a(395);var xo=function(e){return Object(n.useEffect)((function(){}),[]),o.a.createElement("div",{className:"error"},o.a.createElement("div",{className:"circle"}),o.a.createElement("div",{className:"centered-text"},o.a.createElement("p",{style:{fontSize:"90px"}},e.code)),o.a.createElement("div",{className:"bottom-text"},o.a.createElement("p",null,"Service Temporarily Unavailable")))},jo=a(77),Oo=(a(396),a(397),a(185)),wo=a.n(Oo),So=a(254),ko=a.n(So),No=a(163),Ro=a(501),Co=a(483),To=a(492),Do=a(484),Ao=a(489),Io=a(482),Mo=a(38),Po=a(487),Wo=a(414),zo=a(19),Fo=Object(O.a)({button:{marginTop:20,marginRight:20},actionsContainer:{marginBottom:20},resetContainer:{padding:20},stepperBg:{backgroundColor:"transparent"},step:{color:"#008080"},backdrop:{zIndex:1,color:"#fff"}});var Lo=function(e){var t=Fo(),a=Object(n.useRef)(0),r=Object(n.useState)(zo.get("userData")),l=Object(g.a)(r,2),s=l[0],c=l[1],i=Object(n.useState)(!1),u=Object(g.a)(i,2),m=u[0],d=(u[1],Object(n.useState)(!1)),p=Object(g.a)(d,2),f=p[0],h=p[1],v=Object(n.useState)(!1),E=Object(g.a)(v,2),y=E[0],x=E[1],O=Object(n.useState)(!0),k=Object(g.a)(O,2),N=k[0],R=k[1],C=Object(n.useState)(null),T=Object(g.a)(C,2),D=T[0],A=T[1],I=Object(n.useState)(null),M=Object(g.a)(I,2),P=M[0],W=M[1],z=Object(n.useState)(null),F=Object(g.a)(z,2),L=F[0],U=F[1],V=Object(n.useState)(null),Y=Object(g.a)(V,2),B=Y[0],H=Y[1],q=Object(n.useState)(null),X=Object(g.a)(q,2),G=X[0],J=X[1],Z=Object(n.useState)(!0),K=Object(g.a)(Z,2),Q=K[0],_=K[1],$=Object(n.useState)(0),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!0),oe=Object(g.a)(ne,2),re=oe[0],le=oe[1],se=Object(n.useState)(0),ce=Object(g.a)(se,2),ie=ce[0],ue=ce[1],me=Object(n.useState)([]),de=Object(g.a)(me,2),pe=de[0],ge=de[1],fe=Object(n.useState)(0),be=Object(g.a)(fe,2),he=(be[0],be[1]),ve=Object(n.useState)([]),Ee=Object(g.a)(ve,2),ye=(Ee[0],Ee[1],Object(n.useState)(0)),xe=Object(g.a)(ye,2),je=xe[0],Oe=xe[1],we=Object(n.useState)([]),Se=Object(g.a)(we,2),ke=Se[0],Ne=Se[1],Re=Object(n.useState)([]),Ce=Object(g.a)(Re,2),Te=Ce[0],De=Ce[1],Ae=Object(n.useState)([]),Ie=Object(g.a)(Ae,2),Me=Ie[0],Pe=Ie[1],We=Object(n.useState)([]),ze=Object(g.a)(We,2),Fe=ze[0],Le=ze[1],Ue=Object(n.useState)("one"),Ve=Object(g.a)(Ue,2),Ye=Ve[0],Be=Ve[1],He=Object(n.useState)(!1),qe=Object(g.a)(He,2),Xe=qe[0],Ge=qe[1],Je=Object(n.useState)("complaintType"),Ze=Object(g.a)(Je,2),Ke=Ze[0],Qe=Ze[1],_e=Object(n.useState)("unresolved"),$e=Object(g.a)(_e,2),et=$e[0],tt=$e[1],at=Object(n.useState)(""),lt=Object(g.a)(at,2),st=lt[0],ct=lt[1],it=Object(n.useState)([]),ut=Object(g.a)(it,2),mt=ut[0],dt=ut[1],pt=Object(n.useState)(!1),gt=Object(g.a)(pt,2),ft=gt[0],bt=gt[1],ht=Object(n.useState)(!1),vt=Object(g.a)(ht,2),yt=(vt[0],vt[1]),xt=Object(n.useState)(!1),jt=Object(g.a)(xt,2),Ot=jt[0],wt=jt[1],St=Object(n.useState)({numberOfRows:0,dateRadioValue:"",dateFrom:"",dateTo:"",dateOne:"",sortRadioValue:"",description:"",complaints:[],role:""}),kt=Object(g.a)(St,2),Nt=kt[0],Rt=kt[1],Ct={"Content-Type":"application/json","x-access-token":s.accessToken};Object(n.useEffect)((function(){!function(){var t=[],a=[];b.a.get("https://m2r31169.herokuapp.com/api/getComplaints",{headers:Ct}).then((function(e){for(var n in e.data){t[n]=e.data[n].complain.createdAt;var o={};o.id=e.data[n].complain.id,o.description=e.data[n].complain.description,o.longitude=e.data[n].complain.Location.longitude,o.latitude=e.data[n].complain.Location.latitude,o.image=e.data[n].complain.image,o.afterImage=e.data[n].complain.resolvedComplaintImage,o.statusType=e.data[n].complain.Status.statusType,o.statusId=e.data[n].complain.Status.id,o.date=nt()(e.data[n].complain.createdAt).format(),o.town=e.data[n].complain.Location.town.name,o.priority=e.data[n].complain.noOfRequests>5?"high":e.data[n].complain.noOfRequests>1?"medium":"low",o.reason="Rejected"===e.data[n].complain.Status.statusType?e.data[n].complain.reasonForRejection:"",o.requests=e.data[n].complain.noOfRequests,o.type=e.data[n].complain.ComplaintType.typeName,o.supervisorId=e.data[n].complain.assignedTo,o.supervisorName=e.data[n].complain.User&&e.data[n].complain.User.name,o.otherStatus=e.data[n].supervisorStatus?e.data[n].supervisorStatus:e.data[n].adminStatus,a.push(o)}A(t[0]),W(t[t.length-1]),H(P),De(a),Le(a),R(!1)})).catch((function(t){t.response&&(401===t.response.status||403===t.response.status?Tt():503!==t.response.status&&500!==t.response.status||(R(!1),e.handleError(t.response.status)))}))}()}),[s]);var Tt=function(){zo.remove("userData"),zo.clearAll(),c({}),window.location="/"},Dt=["Select the dates","Choose how you want to sort the complaints","Report Description","Generate your report"],At=function(e){ct(e.target.value),""===e.target.value?le(!0):le(!1)},It=function(e){Be(e.target.value),J(null),U(null),H(null),Ge((function(e){return!e})),"one"===e.target.value?le(null===G):"multiple"===e.target.value&&le(null===L||null===B)},Mt=function(e){Qe(e.target.value),ge([]),Ne([]),ue(0),Oe(0),"complaintType"===e.target.value?le(0===ie):"supervisors"===e.target.value&&le(0===je)},Pt=function(e){tt(e.target.value),Le(Me)};Object(n.useEffect)((function(){"complaintType"===Ke?(bt(!0),yt(!1),wt(!1)):"supervisors"===Ke&&(bt(!1),yt(!1),wt(!0))}),[Ke]);var Wt=function(e,t){e.target.checked?(ue((function(e){return e+1})),ge([].concat(Object(ot.a)(pe),[e.target.name]))):(ue((function(e){return e-1})),ge(pe.filter((function(t){return t!==e.target.name}))))},zt=function(e){e.target.checked?(Oe((function(e){return e+1})),Ne([].concat(Object(ot.a)(ke),[e.target.name]))):(Oe((function(e){return e-1})),Ne(ke.filter((function(t){return t!==e.target.name}))))};Object(n.useEffect)((function(){"ADMIN"===s.Role&&(0===ie&&1===te?le(!0):0!==ie&&1===te&&le(!1))}),[ie,te]),Object(n.useEffect)((function(){"ADMIN"===s.Role&&(0===je&&1===te?le(!0):0!==je&&1===te&&le(!1))}),[je,te]);var Ft=function(e){J(e),le(!1)},Lt=function(e){U(e),_(!1)},Ut=function(e){H(e),le(!1)};Object(n.useEffect)((function(){a.current=a.current+1})),Object(n.useEffect)((function(){a.current>=10&&(0===Fe.length?h(!0):(h(!1),ae((function(e){return e+1})),1===te&&le(!0)))}),[y]),Object(n.useEffect)((function(){"complaintType"===Ke?dt(Fe.map((function(e,t){return e.type})).filter((function(e,t){return Fe.map((function(e,t){return e.type})).indexOf(e)===t}))):"supervisors"===Ke&&dt(Fe.map((function(e,t){return e.supervisorName})).filter((function(e,t){return Fe.map((function(e,t){return e.supervisorName})).indexOf(e)===t})))}),[Fe,Ke]);var Vt=function(e){return o.a.createElement(j.a,Object.assign({},e,{disabled:!0}))},Yt=o.a.useState("A4"),Bt=Object(g.a)(Yt,2),qt=(Bt[0],Bt[1],function(){!function(e){var t=ko.a.pdfMake.vfs;wo.a.vfs=t,console.log(e);var a=[["ID","TYPE","DATE","PRIORITY","TOWN","SUPERVISOR","STATUS"]],n=[["ID","TYPE","DATE","PRIORITY","TOWN","STATUS"]];"ADMIN"===e.role?e.complaints.forEach((function(e){var t=[];t.push(e.id),t.push(e.type),t.push(nt()(e.date).format("DD/MMM/YY")),t.push(e.priority),t.push(e.town),t.push(e.supervisorName),t.push(e.statusType),a.push(t)})):e.complaints.forEach((function(e){var t=[];t.push(e.id),t.push(e.type),t.push(nt()(e.date).format("DD/MMM/YY")),t.push(e.priority),t.push(e.town),t.push(e.statusType),n.push(t)})),console.log(a);var o={pageSize:"A4",pageOrientation:"portrait",content:[{text:"Sindh Solid Waste Management",bold:!0,style:"header",fontSize:25,margin:[0,10,0,5]},{text:"one"===e.dateRadioValue?"Report generated for "+nt()(e.dateOne).format("DD MMM YYYY"):"Report generated from  "+nt()(e.dateFrom).format("DD/MMM/YYYY")+"  till  "+nt()(e.dateTo).format("DD/MMM/YYYY"),italics:!0,fontSize:9,margin:[0,0,0,5],color:"#8E9397"},{text:"Report Description",bold:!0,fontSize:12,margin:[0,15,0,2]},{text:e.description,bold:!1,fontSize:10,margin:[0,0,0,10]},{style:"tableExample",table:{fontSize:20,borderTop:!0,bold:!0,body:"ADMIN"===e.role?a:n}}]};wo.a.createPdf(o).open()}(Nt)});return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("p",{style:{fontSize:14,fontWeight:"bold",marginLeft:10}},"* Reports can only be generated if there are complaints.")),o.a.createElement("div",null,o.a.createElement(Ro.a,{className:t.stepperBg,activeStep:te,orientation:"vertical"},Dt.map((function(e,a){return o.a.createElement(Co.a,{key:e},o.a.createElement(To.a,null,e),o.a.createElement(Do.a,null,o.a.createElement(Ht.a,null,function(e){switch(e){case 0:return o.a.createElement("div",null,o.a.createElement("p",null,"You can choose to generate a one day report or multiple days report."),o.a.createElement(Io.a,{row:!0,"aria-label":"position",name:"position",defaultValue:Ye,onChange:It},o.a.createElement(ga.a,{value:"one",control:o.a.createElement(Ao.a,{color:"primary"}),label:"One day",labelPlacement:"end",disabled:m}),o.a.createElement(ga.a,{value:"multiple",control:o.a.createElement(Ao.a,{color:"primary"}),label:"Multiple Days",labelPlacement:"end",disabled:m})),Xe?o.a.createElement("div",null,o.a.createElement(Mo.a,{utils:No.a},o.a.createElement(Po.a,{margin:"normal",defaultValue:"20 Jul 2020",id:"date-picker-dialog-from",label:"From",format:"dd MMM yyyy",error:!1,disabled:m,minDate:D,maxDate:nt()(P).add(-1,"days"),value:L,onChange:Lt,KeyboardButtonProps:{"aria-label":"change date"},TextFieldComponent:Vt})),o.a.createElement(Mo.a,{utils:No.a},o.a.createElement(Po.a,{margin:"normal",id:"date-picker-dialog-to",label:"To",error:!1,format:"dd MMM yyyy",minDate:nt()(L).add(1,"days"),maxDate:P,value:B,disabled:Q,onChange:Ut,KeyboardButtonProps:{"aria-label":"change date"},TextFieldComponent:Vt}))):o.a.createElement("div",null,o.a.createElement(Mo.a,{utils:No.a},o.a.createElement(Po.a,{margin:"normal",defaultValue:"20 Jul 2020",id:"date-picker-dialog-one",label:"Select Date",format:"dd MMM yyyy",error:!1,minDate:D,maxDate:P,value:G,onChange:Ft,KeyboardButtonProps:{"aria-label":"change date"},TextFieldComponent:Vt}))));case 1:return o.a.createElement("div",null,"ADMIN"===s.Role?o.a.createElement("div",null,o.a.createElement(Io.a,{row:!0,"aria-label":"position",name:"position",defaultValue:Ke,onChange:Mt},o.a.createElement(ga.a,{value:"complaintType",control:o.a.createElement(Ao.a,{color:"primary"}),label:"Type Wise",labelPlacement:"end"}),o.a.createElement(ga.a,{value:"supervisors",control:o.a.createElement(Ao.a,{color:"primary"}),label:"Supervisor Wise",labelPlacement:"end"})),!0===ft&&o.a.createElement(rt.a,{component:"fieldset"},o.a.createElement(Wo.a,{"aria-label":"position",column:!0},mt.map((function(e,t){return o.a.createElement(ga.a,{value:"type",control:o.a.createElement(pa.a,{color:"primary"}),label:e,name:e,onChange:function(e){return Wt(e,t)},labelPlacement:"end"})})))),!0===Ot&&o.a.createElement(rt.a,{component:"fieldset"},o.a.createElement(Wo.a,{"aria-label":"position",column:!0},mt.map((function(e){return o.a.createElement(ga.a,{value:"supervisor",control:o.a.createElement(pa.a,{color:"primary"}),onChange:zt,label:e,name:e,labelPlacement:"end"})}))))):o.a.createElement("div",null,o.a.createElement(Io.a,{column:!0,"aria-label":"position",name:"position",defaultValue:et,onChange:Pt},o.a.createElement(ga.a,{value:"unresolved",control:o.a.createElement(Ao.a,{color:"primary"}),label:"Unresolved",labelPlacement:"end"}),o.a.createElement(ga.a,{value:"active",control:o.a.createElement(Ao.a,{color:"primary"}),label:"Active",labelPlacement:"end"}),o.a.createElement(ga.a,{value:"resolved",control:o.a.createElement(Ao.a,{color:"primary"}),label:"Resolved",labelPlacement:"end"}))));case 2:return o.a.createElement("div",null,o.a.createElement("p",null,"Please provide a brief description of your report."),o.a.createElement(j.a,{id:"outlined-multiline-static",multiline:!0,value:st,rows:"4",fullWidth:!0,defaultValue:"Description",variant:"outlined",onChange:At}));case 3:return o.a.createElement("div",null,o.a.createElement("p",null,"Click on the button to generate your report."));default:return"Unknown stepIndex"}}(a)),!0===f?o.a.createElement("p",{style:{color:"red"}},"No complaints found."):null,o.a.createElement("div",{className:t.actionsContainer},o.a.createElement("div",null,o.a.createElement(Xt.a,{disabled:0===te,onClick:function(){return function(e){switch(e){case 1:Le(Te),le(!1);break;case 2:Le(Me),le(!1);break;case 3:le(!1);break;default:return null}ae((function(e){return e-1}))}(a)},className:t.button},"Back"),o.a.createElement(Xt.a,{variant:"contained",color:"primary",onClick:function(){return function(e){switch(x((function(e){return!e})),e){case 0:"one"===Ye?null!==G&&(Le(Te.filter((function(e){return console.log("db date :",nt()(e.date).format().substr(0,10)),console.log("selected onDate :",nt()(G).format().substr(0,10)),nt()(e.date).format().substr(0,10)===nt()(G).format().substr(0,10)}))),Pe(Te.filter((function(e){return console.log("db date :",nt()(e.date).format().substr(0,10)),console.log("selected onDate :",nt()(G).format().substr(0,10)),nt()(e.date).format().substr(0,10)===nt()(G).format().substr(0,10)})))):null!==L&&null!==B&&(Le(Te.filter((function(e){return new Date(e.date.substring(0,19)).getTime()>=new Date(L.getFullYear(),L.getMonth(),L.getDate(),0,0,0).getTime()&&new Date(e.date.substring(0,19)).getTime()<=new Date(B.getFullYear(),B.getMonth(),B.getDate(),23,59,0).getTime()}))),Pe(Te.filter((function(e){return new Date(e.date.substring(0,19)).getTime()>=L.getTime()&&new Date(e.date.substring(0,19)).getTime()<=B.getTime()})))),ue(0),he(0),Oe(0);break;case 1:"ADMIN"===s.Role?"complaintType"===Ke?0!==ie&&Le(Fe.filter((function(e){return pe.includes(e.type)}))):0!==je&&Le(Fe.filter((function(e){return ke.includes(e.supervisorName)}))):"unresolved"===et?Le(Fe.filter((function(e){return"Unresolved"===e.statusType}))):"active"===et?Le(Fe.filter((function(e){return"Active"===e.statusType}))):"resolved"===et&&Le(Fe.filter((function(e){return"Resolved"===e.statusType})));break;case 2:Rt({numberOfRows:Fe.length,dateRadioValue:Ye,dateFrom:L,dateTo:B,dateOne:G,sortRadioValue:Ke,description:st,complaints:Fe,role:s.Role});break;case 3:qt();break;default:return null}}(a)},className:t.button,disabled:re},te===Dt.length-1?"Download Report":"Next")))))}))),te===Dt.length&&o.a.createElement(Et.a,{square:!0,elevation:0,className:t.resetContainer},o.a.createElement(Ht.a,null,"Your report has been generated."),o.a.createElement(Xt.a,{onClick:function(){ae(0),Le(Te),U(null),H(null),J(null),ct(""),le(!0)},className:t.button},"Reset"))),o.a.createElement(S.a,{className:t.backdrop,open:N},o.a.createElement(w.ImpulseSpinner,{size:90,color:"#008081"})))},Uo=a(485),Vo=function(e){var t=e.role,a=e.handleError,n=e.component,r=Object(bt.a)(e,["role","handleError","component"]);return o.a.createElement(jo.b,Object.assign({},r,{render:function(){return"ADMIN"===t?o.a.createElement(n,{handleError:a}):o.a.createElement(jo.a,{to:"/dashboard/home"})}}))},Yo=a(255),Bo=(a(402),Yo.initializeApp({apiKey:"AIzaSyBYh4kM41BWVUf7tF_RB56QxYK9Ua3CFXI",authDomain:"tryfirebaseproject-34025.firebaseapp.com",databaseURL:"https://tryfirebaseproject-34025.firebaseio.com",projectId:"tryfirebaseproject-34025",storageBucket:"tryfirebaseproject-34025.appspot.com",messagingSenderId:"242828897331",appId:"1:242828897331:web:e6a77f6a72affb02438746"}).messaging()),Ho=a(486),qo=a(19),Xo=Object(O.a)({root:{position:"relative"},myCard:{borderRadius:20,background:"#f3f3f3",padding:"10px 20px",minHeight:"89vh",minWidth:"70vw",marginRight:17},myAvatar:{marginLeft:"12px"},myToolbar:{color:"teal",minHeight:20,display:"flex",justifyContent:"flex-end"},gridContainer:{width:"auto"},paper:{backgroundColor:"white",color:"teal",position:"absolute",marginTop:"5px",zIndex:1200,right:"38px",height:"100%",maxHeight:200,width:"100%",maxWidth:300,overflow:"auto",padding:"10px"},notifDropdown:{display:"flex",backgroundColor:"#97DED0",marginBottom:"10px",height:"100%",maxHeight:100,borderRadius:9},notifDropdownWithoutColor:{display:"flex",backgroundColor:"#F3F3F3",marginBottom:"10px",height:"100%",maxHeight:100,borderRadius:9},hideNoNotif:{display:"none"},noNotifDropdown:{display:"flex",marginBottom:"10px",height:"100%",maxHeight:70,borderRadius:9,justifyContent:"center",alignItems:"center",border:"1px solid #97DED0"},timeClass:{flex:"1 1 auto",minWidth:0,marginTop:"4px",marginLeft:"10px",marginRight:"10px"}});var Go=function(e){var t=e.match,a=Object(n.useState)({}),r=Object(g.a)(a,2),l=r[0],s=r[1],c=Object(n.useState)([]),i=Object(g.a)(c,2),d=i[0],p=i[1],f=Object(n.useState)(!1),h=Object(g.a)(f,2),v=h[0],E=h[1],y=Object(n.useState)(0),x=Object(g.a)(y,2),j=x[0],O=x[1];window.addEventListener("storage",(function(e){"logoutEvent"===e.key&&(window.location="/",console.log("logout hogya ballay ballay"))}));var w=function(e){E(e)},S=Xo(),k=o.a.useState(!1),N=Object(g.a)(k,2),R=N[0],C=N[1],T=Object(n.useState)(qo.get("userData")),D=Object(g.a)(T,2),A=D[0],I=D[1];Object(n.useEffect)((function(){E(!1)}),[]);var M={"Content-Type":"application/json","x-access-token":A.accessToken},P=function(){qo.remove("userData"),qo.clearAll(),I({}),window.location="/"};function W(e){b.a.post("https://m2r31169.herokuapp.com/api/notificationToken",{},{headers:M,data:{token:e}}).then((function(e){})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?P():503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),w(e.response.status)))}))}Object(n.useEffect)((function(){Bo.requestPermission().then(Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bo.getToken();case 2:t=e.sent,void 0!==A.accessToken&&W(t);case 4:case"end":return e.stop()}}),e)})))).catch((function(e){e.response&&(401===e.response.status?P():503!==e.response.status&&500!==e.response.status||console.log(e.response.status)),console.log("Unable to get permission to notify.",e)})),Bo.onTokenRefresh((function(){Bo.getToken().then((function(e){console.log("Token refreshed."),void 0!==A.accessToken&&W(e)})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?P():503!==e.response.status&&500!==e.response.status||console.log(e.response.status)),console.log("Unable to retrieve refreshed token ",e)}))})),navigator.serviceWorker.addEventListener("message",(function(e){return console.log(e)}))}),[A.accessToken]);var z=[];return Object(n.useEffect)((function(){null!==A.accessToken&&b.a.get("https://m2r31169.herokuapp.com/api/dashboard/getNotifications",{headers:M}).then((function(e){for(var t in e.data.notifications)z[t]=e.data.notifications[t];p(z),O(e.data.count)})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?P():503!==e.response.status&&500!==e.response.status||(console.log(e.response.status),w(e.response.status))),console.error(e),console.log("not getting notifs")}))}),[A.accessToken]),Bo.onMessage((function(e){console.log("Message received!!! payload. ",e),s(null!==e?e:{})})),v?o.a.createElement(xo,{code:v}):o.a.createElement("div",{className:"dashboard-grid"},Object.keys(l).length>0&&o.a.createElement(yo,{key:l.length,value:l}),o.a.createElement("div",{className:"menu-view"},o.a.createElement(fe,{role:A.Role})),o.a.createElement("div",{className:"card-view-grid"},o.a.createElement("div",{className:"top-bar"},o.a.createElement(Uo.a,{onClickAway:function(e){C(!1)}},o.a.createElement("div",null,o.a.createElement(ie.a,{"aria-label":"show 17 new notifications",color:"inherit",onClick:function(e){e.preventDefault(),C((function(e){return!e}))}},o.a.createElement(be.a,{badgeContent:j,color:"secondary"},o.a.createElement(ve.a,null))),o.a.createElement(Et.a,{elevation:4,className:S.paper,hidden:!R},d.map((function(e){return o.a.createElement("div",{className:e.notificationStatus?S.notifDropdownWithoutColor:S.notifDropdown},o.a.createElement($a.a,{style:{padding:"0.5em"},button:!0,onClick:function(t){return a=t,n=e.notificationId,o=e.notificationStatus,r=e.ComplainId,a.preventDefault(),console.log("notificationId",o),void(o?window.location="/dashboard/complaints?complainIdOpen=".concat(r):b.a.post("https://m2r31169.herokuapp.com/api/dashboard/openNotification",{notificationId:n},{headers:M}).then((function(e){window.location="/dashboard/complaints?complainIdOpen=".concat(r)})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?P():503!==e.response.status&&500!==e.response.status||console.log(e.response.status)),console.error(e),console.log("not open")})));var a,n,o,r}},o.a.createElement(Ho.a,null,o.a.createElement(Va.a,{alt:"C",src:e.complainImage})),o.a.createElement(en.a,{style:{maxWidth:"212px"},primary:"Complaint "+e.statusType,secondary:"ADMIN"===A.Role?"Complaint #"+e.ComplainId+" is "+e.statusType.toLowerCase()+" by "+e.supervisor:"Verified"===e.statusType?"Complaint #"+e.ComplainId+" has been marked as "+e.statusType.toLowerCase():"Complaint #"+e.ComplainId+" has been "+e.statusType.toLowerCase()+" to you"}),function(e){var t=e,a=t/864e5,n=(t%=864e5)/36e5,r=(t%=36e5)/6e4,l=(t%=6e4)/1e3;return a>365?o.a.createElement(en.a,{className:S.timeClass,secondary:Math.round(a/365).toString()+"yr"}):a>=7?o.a.createElement(en.a,{className:S.timeClass,secondary:Math.round(a/7).toString()+"w"}):a>=1?o.a.createElement(en.a,{className:S.timeClass,secondary:Math.round(a).toString()+"d"}):n>=1?o.a.createElement(en.a,{className:S.timeClass,secondary:Math.round(n).toString()+"h"}):r>=1?o.a.createElement(en.a,{className:S.timeClass,secondary:Math.round(r).toString()+"m"}):o.a.createElement(en.a,{className:S.timeClass,secondary:Math.round(l).toString()+"s"})}(nt()().diff(nt()(e.timeAndDate)))))}))))),o.a.createElement(Va.a,{className:S.myAvatar,src:Object.keys(A)>0&&null!==A.userData.image?"https://m2r31169.herokuapp.com"+A.userData.image:ye.a}),o.a.createElement("p",{key:A.length,className:"username-padding"}," ",Object.keys(A).length>0&&A.userData.username.length>0?A.userData.username:"dummy123")),o.a.createElement("div",{className:"content"},o.a.createElement(Nt.Scrollbars,{style:{minWidth:100,minHeight:370}},o.a.createElement(jo.d,null,o.a.createElement(jo.b,{path:"".concat(t.path,"/"),exact:!0,render:function(){return o.a.createElement(jo.a,{to:"/dashboard/home"})}}),o.a.createElement(jo.b,{path:"".concat(t.path,"/home"),exact:!0,render:function(e){return o.a.createElement(Ze,Object.assign({},e,{handleError:w}))}}),o.a.createElement(jo.b,{path:"".concat(t.path,"/complaints"),exact:!0,render:function(e){return o.a.createElement(Fa,Object.assign({},e,{handleError:w}))}}),o.a.createElement(Vo,{path:"".concat(t.path,"/supervisors"),exact:!0,component:Sn,role:A.Role,handleError:w}),o.a.createElement(jo.b,{path:"".concat(t.path,"/reports"),exact:!0,render:function(){return o.a.createElement(Lo,{handleError:w})}}),o.a.createElement(jo.b,{path:"".concat(t.path,"/profile"),exact:!0,render:function(){return o.a.createElement(Kn,{key:d.length,notification:d})}}),o.a.createElement(Vo,{path:"".concat(t.path,"/manage"),exact:!0,component:ho,role:A.Role,handleError:w}))))))},Jo=a(19),Zo=function(e){var t=e.component,a=Object(bt.a)(e,["component"]),r=Object(n.useState)({}),l=Object(g.a)(r,2),s=(l[0],l[1]);return Object(n.useEffect)((function(){s(Jo.get("userData"))}),[]),o.a.createElement(jo.b,Object.assign({},a,{render:function(e){return Jo.get("userData")?o.a.createElement(t,e):o.a.createElement(jo.a,{to:"/"})}}))},Ko=a(19),Qo=function(e){var t=e.component,a=Object(bt.a)(e,["component"]),r=Object(n.useState)({}),l=Object(g.a)(r,2),s=(l[0],l[1]);return Object(n.useEffect)((function(){s(Ko.get("userData"))}),[]),o.a.createElement(jo.b,Object.assign({},a,{render:function(e){return Ko.get("userData")?o.a.createElement(jo.a,{to:"/dashboard/home"}):o.a.createElement(t,e)}}))};var _o=function(){return o.a.createElement(B.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(jo.d,null,o.a.createElement(Qo,{path:"/",exact:!0,component:R}),o.a.createElement(Zo,{path:"/dashboard",component:Go}),o.a.createElement(jo.b,{path:"/error",exact:!0,component:xo}))))};l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(_o,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");s?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):c(t,e)}))}}()}},[[287,1,2]]]);
//# sourceMappingURL=main.5cdbac0e.chunk.js.map